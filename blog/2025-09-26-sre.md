---
title: SRE Team Update
slug: 2025-09-26-sre
authors: johnalotoski
tags: [sre]
hide_table_of_contents: false
---

## High level summary

The SRE team continues work on Cardano environment improvements and general maintenance.

Some notable recent changes, updates or improvements include:

* A substantial amount of effort was placed into the [Hydra CI build
system](https://ci.iog.io/) during this biweekly period to investigate the root
cause of aborted builds due to both logged invalid store paths and logged
missing nar cache files. Nushell scripts were written to examine and repair
specific closures as well as to walk all nix cache objects and proactively
resolve any dangling narinfo files, effectively resolving the aborted builds.
Script repair operations were parallelized to speed up the walk rate across the
large object count bucket. The root cause was a cache truncation operation
which purged a small percentage of objects filtered by oldest age and
non-uniformly deleted narinfo and nar objects which needed to remain paired due
to self-references.  A more intelligent GC approach will be used in the future.


## Repository Work -- Merged

### Blockperf
* Fixes a new tracing system blockperf implementation error for trace detail
  level.
  [blockperf-pr-33](https://github.com/cardano-foundation/blockperf/pull/33)

### Capkgs
* Re-adds regular hydraJob builds in addition to fetch-closure only builds to
  ensure the full jobset can be rebuilt from source.
  [capkgs-commit-range](https://github.com/input-output-hk/capkgs/compare/e663bfc...19b3134)

### Cardano-airgap
* Adds more boot options for better video driver support, including nouveau
  nomodeset fallback and open and closed Nvidia drivers. The dconf config file was
  updated to use the nixos modules declaration.  Logout, shutdown, restart and
  similar gnome operations were fixed.  Additional helper packages were added.
  See the PR header for details.
  [cardano-airgap-pr-9](https://github.com/IntersectMBO/cardano-airgap/pull/9)

### Devx-ci
* Adds `ci10`, a x86_64-linux builder, to be repurposed later for Equinix metal
  migration. Sets `narinfo-cache-positive-ttl` back to default value, sets the
  default user `nofile` limit to 4096 from default of 1024 to avoid occasional
  nofile failures. Rekeys required group secrets to include the new machine, adds
  `ci7`, `ci8` to the r2 tunnel. Adds a `github-hydra-bridge-restarter` service
  to detect when the bridge token has expired and auto-rotate within one minute
  of expiration.
  [devx-ci-pr-135](https://github.com/input-output-hk/devx-ci/pull/135)


## Repository Work In Progress -- PRs and Branches

* Cardano-node: https://github.com/IntersectMBO/cardano-node/pull/6300
* Iohk-nix: https://github.com/input-output-hk/iohk-nix/pull/602
* Cardano-playground: https://github.com/input-output-hk/cardano-playground/pull/51
* Cardano-parts: https://github.com/input-output-hk/cardano-parts/pull/74
