"use strict";(self.webpackChunkcardano_updates=self.webpackChunkcardano_updates||[]).push([[57234],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var r=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,l=function(e,t){if(null==e)return{};var a,r,l={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var p=r.createContext({}),s=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,l=e.mdxType,n=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=s(a),m=l,h=c["".concat(p,".").concat(m)]||c[m]||d[m]||n;return a?r.createElement(h,i(i({ref:t},u),{},{components:a})):r.createElement(h,i({ref:t},u))}));function h(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var n=a.length,i=new Array(n);i[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[c]="string"==typeof e?e:l,i[1]=o;for(var s=2;s<n;s++)i[s]=a[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},49105:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>n,metadata:()=>o,toc:()=>s});var r=a(87462),l=(a(67294),a(3905));const n={title:"Ledger Team Update",slug:"2024-09-11-ledger",authors:"lehins",tags:["ledger"],hide_table_of_contents:!1},i=void 0,o={permalink:"/2024-09-11-ledger",editUrl:"https://github.com/intersectmbo/cardano-updates/tree/main/blog/2024-09-11-ledger.md",source:"@site/blog/2024-09-11-ledger.md",title:"Ledger Team Update",description:"High level summary",date:"2024-09-11T00:00:00.000Z",formattedDate:"September 11, 2024",tags:[{label:"ledger",permalink:"/tags/ledger"}],readingTime:2.19,hasTruncateMarker:!1,authors:[{name:"Alexey Kuleshevich",title:"Ledger Team Software Engineer",url:"https://github.com/lehins",imageURL:"https://github.com/lehins.png",key:"lehins"}],frontMatter:{title:"Ledger Team Update",slug:"2024-09-11-ledger",authors:"lehins",tags:["ledger"],hide_table_of_contents:!1},prevItem:{title:"Large Reference Scripts",permalink:"/2024-09-11-incident"},nextItem:{title:"Mithril Team Update",permalink:"/2024-09-11-mithril"}},p={authorsImageUrls:[void 0]},s=[{value:"High level summary",id:"high-level-summary",level:2},{value:"Low level summary",id:"low-level-summary",level:2},{value:"Features",id:"features",level:3},{value:"Testing",id:"testing",level:3},{value:"Infrastructure and releasing",id:"infrastructure-and-releasing",level:3}],u={toc:s},c="wrapper";function d(e){let{components:t,...a}=e;return(0,l.kt)(c,(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"high-level-summary"},"High level summary"),(0,l.kt)("p",null,"One specific Conway feature that received a lot of debate has finally been implemented,\nnamely disallowing stake credentials from withdrawing rewards, that are backed by a key\nhash and have not delegated to any DRep.  This feature will go into effect after the\nbootstrap phase."),(0,l.kt)("p",null,"A whole lot more tests were added and few minor bug fixes have been implemented as well.\nIn particular ",(0,l.kt)("inlineCode",{parentName:"p"},"GovInfoEvent")," ledger event has been fixed, which is unlikely to affect\nanyone, but it is worth pointing out.  Ledger state deserialization bug was fixed that was\nnecessary for the ",(0,l.kt)("inlineCode",{parentName:"p"},"cardano-node-9.1.1")," release.  Some tech dept was taken care of, like\ncleanup of unnecessary predicate failures and fixing some flaky tests from Byron and\nAlonzo eras."),(0,l.kt)("h2",{id:"low-level-summary"},"Low level summary"),(0,l.kt)("h3",{id:"features"},"Features"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4218"},"pull-4218")," - Remove ",(0,l.kt)("inlineCode",{parentName:"li"},"maxMajorPV")," from ",(0,l.kt)("inlineCode",{parentName:"li"},"Globals")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4589"},"pull-4589")," - Fix deserialization of bad ",(0,l.kt)("inlineCode",{parentName:"li"},"Ptr"),"s in ",(0,l.kt)("inlineCode",{parentName:"li"},"IncrementalStake")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4555"},"pull-4555")," - Disallow withdrawals to non-delegated keyhashes post-bootstrap"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4600"},"pull-4600")," - Stop reporting invalid refund when stake credential is not registered"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4604"},"pull-4604")," - Fix enacted ",(0,l.kt)("inlineCode",{parentName:"li"},"Set")," in ",(0,l.kt)("inlineCode",{parentName:"li"},"GovInfoEvent")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4616"},"pull-4616")," - Change ",(0,l.kt)("inlineCode",{parentName:"li"},"ConwayWdrlNotDelegatedToDRep")," to wrap ",(0,l.kt)("inlineCode",{parentName:"li"},"KeyHash"),"es"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4609"},"pull-4609")," - Removed ",(0,l.kt)("inlineCode",{parentName:"li"},"DRepAlreadyRegisteredForStakeKeyDELEG"))),(0,l.kt)("h3",{id:"testing"},"Testing"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4565"},"pull-4565")," - ENACT conformance"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4541"},"pull-4541")," - Fix failing tests in ",(0,l.kt)("inlineCode",{parentName:"li"},"cardano-ledger-alonzo-test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4585"},"pull-4585")," - Fixes a property test ",'"',"Ran out of tries on suchThatT",'"'),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4543"},"pull-4543")," - Increased the probability of generating the same hash more than once"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4574"},"pull-4574")," - Byron: Force startTime in genesis data to be strict"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4596"},"pull-4596")," - fix both reproduceable failures"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4586"},"pull-4586")," - Byron: Fix failing ts_prop_elaboratedCertsValid test by moving mainnet-genesis.json to the appropriate path"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4584"},"pull-4584")," - Sort Proposals when translating to SpecRep"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4546"},"pull-4546")," - Ts additions prime spec cert steps"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4607"},"pull-4607")," - Refactor debug tracing of QuickCheck discards"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4597"},"pull-4597")," - DELEG Imp spec")),(0,l.kt)("h3",{id:"infrastructure-and-releasing"},"Infrastructure and releasing"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4578"},"pull-4578")," - Stop generation of haddock for internal modules"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4611"},"pull-4611")," - Fix haddock: remove --show-all to test"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4569"},"pull-4569")," - Fix ",(0,l.kt)("inlineCode",{parentName:"li"},"fourmolu")," version for ",(0,l.kt)("inlineCode",{parentName:"li"},"pre-commit")," shell"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4587"},"pull-4587")," - docs: update README.md"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4591"},"pull-4591")," - cardano-node-9.1 backport: Implement a fix for inability to deserialize pointers in Conway"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4590"},"pull-4590")," - cardano-node-9.2 backport: Implement a fix for inability to deserialize pointers in Conway"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4593"},"pull-4593")," - Plutus 1.33"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4614"},"pull-4614")," - Changelog for cardano-node-9.2"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/4608"},"pull-4608")," - Remove dependency bounds on ",(0,l.kt)("inlineCode",{parentName:"li"},"QuickCheck"))))}d.isMDXComponent=!0}}]);