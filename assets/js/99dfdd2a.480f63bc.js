"use strict";(self.webpackChunkcardano_updates=self.webpackChunkcardano_updates||[]).push([[49660],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),p=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(r),d=n,h=c["".concat(s,".").concat(d)]||c[d]||m[d]||l;return r?a.createElement(h,i(i({ref:t},u),{},{components:r})):a.createElement(h,i({ref:t},u))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,i=new Array(l);i[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:n,i[1]=o;for(var p=2;p<l;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},79136:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var a=r(87462),n=(r(67294),r(3905));const l={title:"Ledger Team Update",slug:"2025-05-21-ledger",authors:"lehins",tags:["ledger"],hide_table_of_contents:!1},i=void 0,o={permalink:"/2025-05-21-ledger",editUrl:"https://github.com/intersectmbo/cardano-updates/tree/main/blog/2025-05-21-ledger.md",source:"@site/blog/2025-05-21-ledger.md",title:"Ledger Team Update",description:"High level summary",date:"2025-05-21T00:00:00.000Z",formattedDate:"May 21, 2025",tags:[{label:"ledger",permalink:"/tags/ledger"}],readingTime:1.6,hasTruncateMarker:!1,authors:[{name:"Alexey Kuleshevich",title:"Ledger Team Software Engineer",url:"https://github.com/lehins",imageURL:"https://github.com/lehins.png",key:"lehins"}],frontMatter:{title:"Ledger Team Update",slug:"2025-05-21-ledger",authors:"lehins",tags:["ledger"],hide_table_of_contents:!1},prevItem:{title:"SRE Team Update",permalink:"/2025-05-23-sre"},nextItem:{title:"Mithril Team Update",permalink:"/2025-05-21-mithril"}},s={authorsImageUrls:[void 0]},p=[{value:"High level summary",id:"high-level-summary",level:2},{value:"Low level summary",id:"low-level-summary",level:2},{value:"Features",id:"features",level:3},{value:"Testing",id:"testing",level:3},{value:"Infrastructure and releasing",id:"infrastructure-and-releasing",level:3}],u={toc:p},c="wrapper";function m(e){let{components:t,...r}=e;return(0,n.kt)(c,(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"high-level-summary"},"High level summary"),(0,n.kt)("p",null,"Last period we were finally able to drop support for older GHC versions. We also made some cleanup\nthat was necessary as preparation work for further refactoring that is underway, which is necessary\nfor both Leios and Nested Transactions. Refactoring definitions of protocol parameters is quite an\naccomplishment, since it drastically reduces complexity and eliminates unnecessary duplication for\nall eras. This refactoring not only reduced amount of code around protocol parameters for previous\neras, but will also drastically simplify the process of adding new protocol parameters in the future\neras."),(0,n.kt)("h2",{id:"low-level-summary"},"Low level summary"),(0,n.kt)("h3",{id:"features"},"Features"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5028"},"PR-5028")," - Deprecate ",(0,n.kt)("inlineCode",{parentName:"li"},"balance")," in favor of a better named ",(0,n.kt)("inlineCode",{parentName:"li"},"sumUTxO")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5034"},"PR-5034")," - Rename ",(0,n.kt)("inlineCode",{parentName:"li"},"ppLens")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"ppuLens")," to make them more specific"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5027"},"PR-5027")," - Refactor PParams CBOR, JSON and Plutus Data serialization for reuse across eras and serializers"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5007"},"PR-5007")," - Remove ConwayNewEpochPredFailure"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5011"},"PR-5011")," - Ensure ",(0,n.kt)("inlineCode",{parentName:"li"},"BabbageNonDisjointRefInputs")," is only checked for ",(0,n.kt)("inlineCode",{parentName:"li"},"PlutusV3")," scripts"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5057"},"PR-5057")," - Change Byron EBB stakeholderid to zero-or-more"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5066"},"PR-5066")," - Fix occurrence of items in maps in byron.cddl"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5053"},"PR-5053")," - Fix COMPLETE pragma for ",(0,n.kt)("inlineCode",{parentName:"li"},"NativeScript ShelleyEra"))),(0,n.kt)("h3",{id:"testing"},"Testing"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5016"},"PR-5016")," - Bump formal-ledger-specifications"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5012"},"PR-5012")," - ",(0,n.kt)("inlineCode",{parentName:"li"},"constrained-generators"),": Split abstract syntax out of ",(0,n.kt)("inlineCode",{parentName:"li"},"Base.hs")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5037"},"PR-5037")," - Some hacking on improving error messages for lists"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5049"},"PR-5049")," - Golden tests  for ",(0,n.kt)("inlineCode",{parentName:"li"},"PParamsUpdate"),"  JSON serialization")),(0,n.kt)("h3",{id:"infrastructure-and-releasing"},"Infrastructure and releasing"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5029"},"PR-5029")," - Remove GHC 8.10 from nix-flake and GHA"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5040"},"PR-5040")," - Update to ",(0,n.kt)("inlineCode",{parentName:"li"},"fourmolu-0.17.0.0")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5041"},"PR-5041")," - Update ghc versions"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5039"},"PR-5039")," - Bump base"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5051"},"PR-5051")," - Update the ",(0,n.kt)("inlineCode",{parentName:"li"},"haskellNix")," flake input"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5055"},"PR-5055")," - Update the ",(0,n.kt)("inlineCode",{parentName:"li"},"iohkNix")," flake input"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/IntersectMBO/cardano-ledger/pull/5060"},"PR-5060")," - Move the shellcheck CI into the main workflow file")))}m.isMDXComponent=!0}}]);