"use strict";(self.webpackChunkcardano_updates=self.webpackChunkcardano_updates||[]).push([[59798],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),d=l(n),h=o,m=d["".concat(s,".").concat(h)]||d[h]||c[h]||a;return n?r.createElement(m,i(i({ref:t},u),{},{components:n})):r.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=h;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[d]="string"==typeof e?e:o,i[1]=p;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},17110:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>p,toc:()=>l});var r=n(87462),o=(n(67294),n(3905));const a={title:"Network Team Update",slug:"2023-06-12-network",authors:"coot",tags:["network"],hide_table_of_contents:!1},i=void 0,p={permalink:"/2023-06-12-network",editUrl:"https://github.com/intersectmbo/cardano-updates/tree/main/blog/2023-06-12-network.md",source:"@site/blog/2023-06-12-network.md",title:"Network Team Update",description:"Network Update",date:"2023-06-12T00:00:00.000Z",formattedDate:"June 12, 2023",tags:[{label:"network",permalink:"/tags/network"}],readingTime:2.205,hasTruncateMarker:!1,authors:[{name:"Marcin Szamotulski",title:"Network Team Lead",url:"https://github.com/coot",imageURL:"https://github.com/coot.png",key:"coot"}],frontMatter:{title:"Network Team Update",slug:"2023-06-12-network",authors:"coot",tags:["network"],hide_table_of_contents:!1},prevItem:{title:"Performance & tracing update",permalink:"/2023-06-14-performance-and-tracing"},nextItem:{title:"Crypto Team Update",permalink:"/2023-06-09-crypto"}},s={authorsImageUrls:[void 0]},l=[{value:"Network Update",id:"network-update",level:2},{value:"Key contributions and advances",id:"key-contributions-and-advances",level:3},{value:"New <code>cardano-ping</code> / <code>cardano-cli ping</code> release",id:"new-cardano-ping--cardano-cli-ping-release",level:4},{value:"Other smaller contributions",id:"other-smaller-contributions",level:3}],u={toc:l},d="wrapper";function c(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"network-update"},"Network Update"),(0,o.kt)("h3",{id:"key-contributions-and-advances"},"Key contributions and advances"),(0,o.kt)("p",null,"We merged ",(0,o.kt)("inlineCode",{parentName:"p"},"light peer sharing")," feature, which allows to include inbound peers\ninto outbound governor known peers.  This is the primary way for new\nunregistered nodes to enter the network, which then can be shared using peer\nsharing.  Note that peer sharing is an experimental feature which is disabled\nuntil genesis & eclipse evasion as fully implemented. See ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/3596"},"#3596"),"."),(0,o.kt)("p",null,"We are making progress reviewing eclipse evasion, ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/3886"},"#3886"),"."),(0,o.kt)("p",null,"We fixed another bug in local root peers.  We found out that if the local roots\nwhere ignored until the first domain name was resolved, see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4583"},"#4583"),".  The bug\nfix was backported and released in ",(0,o.kt)("inlineCode",{parentName:"p"},"ouroboros-network-0.8.1.1"),"."),(0,o.kt)("p",null,"We re-started working on dynamically enabling block forging to address issue\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/3159"},"#3159"),", which will enable us to release ",(0,o.kt)("inlineCode",{parentName:"p"},"P2P")," on block producing nodes. See ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-consensus/pull/140"},"#140"),"."),(0,o.kt)("h4",{id:"new-cardano-ping--cardano-cli-ping-release"},"New ",(0,o.kt)("inlineCode",{parentName:"h4"},"cardano-ping")," / ",(0,o.kt)("inlineCode",{parentName:"h4"},"cardano-cli ping")," release"),(0,o.kt)("p",null,"We prepared a new release of ",(0,o.kt)("inlineCode",{parentName:"p"},"cardano-ping")," library which supports the new\nquery feature (query supported versions). See ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/pull/4589"},"#4589"),", ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/pull/4593"},"#4593")," and ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/cardano-node/pull/5313"},"#5313"),".\nThe new version of ",(0,o.kt)("inlineCode",{parentName:"p"},"cardano-cli ping")," will use ",(0,o.kt)("inlineCode",{parentName:"p"},"ISO8601")," formatted\ntimestamps; also the formatting of ping results is slightly improved, and it\nwill introduce the new ",(0,o.kt)("inlineCode",{parentName:"p"},"--query-versions")," (",(0,o.kt)("inlineCode",{parentName:"p"},"-Q"),") switch.  If the remote site\nsupports the query parameter, the command will print:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"redacted-ip:port network rtt: 0.064\nredacted-ip:port handshake rtt: 0.064010896s\nredacted-ip:port Queried versions [NodeToNodeVersionV11 764824073 InitiatorAndResponder,NodeToNodeVersionV10 764824073 InitiatorAndResponder,NodeToNodeVersionV9 764824073 Initiat\norAndResponder,NodeToNodeVersionV8 764824073 InitiatorAndResponder,NodeToNodeVersionV7 764824073 InitiatorAndResponder]\n")),(0,o.kt)("p",null,"otherwise it will print the negotiation results"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"redacted-ip:port network rtt: 0.045\nredacted-ip:port handshake rtt: 0.101867615s\nredacted-ip:port Negotiated version NodeToNodeVersionV10 764824073 InitiatorAndResponder\n")),(0,o.kt)("p",null,"Note that in that case ",(0,o.kt)("inlineCode",{parentName:"p"},"cardano-cli ping")," offers ",(0,o.kt)("inlineCode",{parentName:"p"},"InitiatorAndResponder"),", which\nallows us to detect whether the remote side is an ",(0,o.kt)("inlineCode",{parentName:"p"},"InitiatorOnly")," or\n",(0,o.kt)("inlineCode",{parentName:"p"},"InitiatorAndResponder"),".   Also ",(0,o.kt)("inlineCode",{parentName:"p"},"cardano-cli ping")," will no longer announce\nitself as ",(0,o.kt)("inlineCode",{parentName:"p"},"InitiatorAndResponder"),", except for the case mentioned above."),(0,o.kt)("h3",{id:"other-smaller-contributions"},"Other smaller contributions"),(0,o.kt)("p",null,"On a request from the Marlow Team, we published haddocks of ",(0,o.kt)("inlineCode",{parentName:"p"},"typed-protocols"),",\nwhich are now available ",(0,o.kt)("a",{parentName:"p",href:"https://input-output-hk.github.io/typed-protocols/"},"here")," (",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/typed-protocols/pull/40"},"#40"),", ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/typed-protocols/pull/41"},"#41"),")."),(0,o.kt)("p",null,"We made a new release of ",(0,o.kt)("inlineCode",{parentName:"p"},"strict-stm-1.1.0.1")," on Hackage, which fixed a bug in\npackage description file, ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/io-sim/pull/101"},"#101")," ."),(0,o.kt)("p",null,"We also helped to debug a deadlock when using named pipes on Windows in the new\n",(0,o.kt)("inlineCode",{parentName:"p"},"RawBearer")," API.  The API is being used to store secret keys only in memory.\nThe PR ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/pull/4395"},"#4395")," is under review."),(0,o.kt)("p",null,"We also have two more PRs which are under review:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/input-output-hk/ouroboros-network/issues/4530"},"#4530"),": enabling ledger peers on a fixed number of slots before the tip of the chain;"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/input-output-hk/ouroboros-network/issues/4580"},"#4580"),": a PR which fixes inconsistencies in one of our cddl specs.")))}c.isMDXComponent=!0}}]);