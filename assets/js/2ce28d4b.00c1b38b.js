"use strict";(self.webpackChunkcardano_updates=self.webpackChunkcardano_updates||[]).push([[15124],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>g});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},m=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),p=c(r),d=a,g=p["".concat(l,".").concat(d)]||p[d]||u[d]||o;return r?n.createElement(g,i(i({ref:t},m),{},{components:r})):n.createElement(g,i({ref:t},m))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},16566:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=r(87462),a=(r(67294),r(3905));const o={title:"Memory Budget Scaling -- 10.6",slug:"2026-01-execbudget-memory-10.6",authors:"mgmeier",tags:["benchmarking-reports"],hide_table_of_contents:!1},i=void 0,s={permalink:"/reports/2026-01-execbudget-memory-10.6",editUrl:"https://github.com/intersectmbo/cardano-updates/tree/main/reports/2026-01-execbudget-memory-10.6.md",source:"@site/reports/2026-01-execbudget-memory-10.6.md",title:"Memory Budget Scaling -- 10.6",description:"Setup",date:"2026-01-20T11:22:43.000Z",formattedDate:"January 20, 2026",tags:[{label:"benchmarking-reports",permalink:"/reports/tags/benchmarking-reports"}],readingTime:3.6,hasTruncateMarker:!1,authors:[{name:"Michael Karg",title:"Performance and Tracing Team Lead",url:"https://github.com/mgmeier",imageURL:"https://github.com/mgmeier.png",key:"mgmeier"}],frontMatter:{title:"Memory Budget Scaling -- 10.6",slug:"2026-01-execbudget-memory-10.6",authors:"mgmeier",tags:["benchmarking-reports"],hide_table_of_contents:!1},prevItem:{title:"Benchmarking -- Node 10.5.4",permalink:"/reports/2026-02-performance-10.5.4"},nextItem:{title:"Benchmarking -- Node 10.6.0-pre",permalink:"/reports/2025-11-performance-10.6.0-pre"}},l={authorsImageUrls:[void 0]},c=[{value:"Setup",id:"setup",level:2},{value:"Observations",id:"observations",level:2},{value:"Resource Usage",id:"resource-usage",level:3},{value:"Forging Loop",id:"forging-loop",level:3},{value:"Peer propagation",id:"peer-propagation",level:3},{value:"End-to-end propagation",id:"end-to-end-propagation",level:3},{value:"Conclusion",id:"conclusion",level:3},{value:"Attachment",id:"attachment",level:2}],m={toc:c},p="wrapper";function u(e){let{components:t,...o}=e;return(0,a.kt)(p,(0,n.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"setup"},"Setup"),(0,a.kt)("p",null,"This report compares benchmarking runs for 3 different settings of the Plutus memory execution budget:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"10.6.1-jan26")," - current mainnet memory execution budget"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"mem-x1.5")," - 1.5 x current mainnet memory execution budget"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"mem-x2")," - 2 x current mainnet memory execution budget")),(0,a.kt)("p",null,"For this comparison, we gather various metrics under the ",(0,a.kt)("em",{parentName:"p"},"Plutus")," workload used in release benchmarks: Each block produced during the benchmark contains\n4 identical script transactions calibrated to fully exhaust the memory execution budget. Thus, script execution is constrained by the memory budget limit\nevery case. The workload produces small blocks (< 3kB) exclusively.  "),(0,a.kt)("p",null,"Benchmarking is performed on a cluster of 52 block producing nodes spread across 3 different AWS regions, interconnected using a static, restricted topology. "),(0,a.kt)("p",null,"Identical scaling benchmarks were performed in Q1 2025 on ",(0,a.kt)("a",{parentName:"p",href:"https://updates.cardano.intersectmbo.org/reports/2025-03-execbudget-memory-10.2"},"Node 10.2 / GHC8.10")," and ",(0,a.kt)("a",{parentName:"p",href:"https://updates.cardano.intersectmbo.org/reports/2025-05-execbudget-memory-10.3"},"Node 10.3 / GHC9.6"),". This comparison aims to ascertain the past observations and conclusions still apply,\ngiven the most recent Node version (10.6.1, with patches for 10.6.2 backported) and its recommended compiler version GHC9.6.7."),(0,a.kt)("h2",{id:"observations"},"Observations"),(0,a.kt)("h3",{id:"resource-usage"},"Resource Usage"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Scaling the memory budget impacts Allocation Rate and Minor GCs. 1.5 x the budget results in rises of 21% - 22%; for doubling the budget the corresponding rises are 36% - 38%."),(0,a.kt)("li",{parentName:"ol"},"These increases exhibit a slightly sublinear correlation with raising mem budget; however, in absolute terms they are much steeper (roughly 4x) compared to Node 10.3."),(0,a.kt)("li",{parentName:"ol"},"The Node process RAM footprint is unaffected by and the effects on Process CPU usage is negligible for either scaling factor."),(0,a.kt)("li",{parentName:"ol"},"CPU 85% span duration exhibits a slight constant increase (approx. 0.5 slots) when scaling the mem budget, regardless of the factor.")),(0,a.kt)("p",null,"Caveat: Individual metrics can't be evaluated in isolate; the resource usage profile as a whole provides insight into the system's performance and responsiveness."),(0,a.kt)("h3",{id:"forging-loop"},"Forging Loop"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Scaling the memory budget has significant impact on self adoption time only."),(0,a.kt)("li",{parentName:"ol"},"Scaling by factor 1.5 leads to an 11ms (or 25%) increase, whereas factor 2 leads to 22ms (51%); this is fully congruent with the observations on Node 10.3."),(0,a.kt)("li",{parentName:"ol"},"This increase is linearly correlated with raising the mem budget."),(0,a.kt)("li",{parentName:"ol"},"With increased memory budget, counterintuitively, the time from slot start until new header announcement ",(0,a.kt)("em",{parentName:"li"},"decreases")," slightly - by 4ms (factor 1.5) and 2ms (factor 2). This was not observed on Node 10.3.")),(0,a.kt)("h3",{id:"peer-propagation"},"Peer propagation"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Same as on the block producer, scaling the memory budget has significant impact on block adoption times only."),(0,a.kt)("li",{parentName:"ol"},"Scaling by factor 1.5 leads to an 10ms (or 22%) increase, whereas factor 2 leads to 17ms (37%)."),(0,a.kt)("li",{parentName:"ol"},"Again, these increases exhibit a slightly sublinear correlation with raising the mem budget - largely congruent with the absolute increases seen on Node 10.3.")),(0,a.kt)("h3",{id:"end-to-end-propagation"},"End-to-end propagation"),(0,a.kt)("p",null,"This metric encompasses block diffusion and adoption across specific percentages of the benchmarking cluster, with 0.80 adoption meaning adoption on 80% of all cluster nodes.  "),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"1.5 x the memory budget results in a minor increase of 2ms - 16ms in cluster adoption times (1% - 3%)."),(0,a.kt)("li",{parentName:"ol"},"2 x the memory budget results in a slight 10ms - 13ms increase (2% - 3%)."),(0,a.kt)("li",{parentName:"ol"},"These increases are clearly lower (very roughly 2.5x) than those observed on Node 10.3.")),(0,a.kt)("h3",{id:"conclusion"},"Conclusion"),(0,a.kt)("p",null,"These measurements outline the headroom for raising the memory budget, along with the expected performance impact:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Block adoption time is the only network metric that's affected significantly, increasing both on the forger and the peers by the same extent."),(0,a.kt)("li",{parentName:"ol"},"These increases seem to correspond linearly at worst with raising the memory budget. This gives excellent predictability of performance impact up to a hypothetical 100% raise."),(0,a.kt)("li",{parentName:"ol"},"Expectedly, more allocations and minor GCs take place; however, CPU and RAM usage remain nearly constant."),(0,a.kt)("li",{parentName:"ol"},"Block diffusion is only marginally affected by changing the execution budget: Due to header pipelining, announcing and (re-)sending a block precedes adoption in most cases."),(0,a.kt)("li",{parentName:"ol"},"As such, measurements taken with either budget adjustment ",(0,a.kt)("em",{parentName:"li"},"do not indicate performance risks")," to the network, but clearly evidence their respective performance cost."),(0,a.kt)("li",{parentName:"ol"},"With the exception of extra allocations, all measurements point to a recent Node version delivering equal or slightly better performance compared to 10.3 given some memory budget increase.")),(0,a.kt)("h2",{id:"attachment"},"Attachment"),(0,a.kt)("p",null,"Full report PDF downloadable ",(0,a.kt)("a",{target:"_blank",href:r(26854).Z},"here"),"."))}u.isMDXComponent=!0},26854:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/files/execbudget-10.6-mem_scaling-ab738e4235d68f34ae678fbff73c89dc.pdf"}}]);