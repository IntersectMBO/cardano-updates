<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-quarterly">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">2 posts tagged with &quot;ledger&quot; | Cardano Development Updates</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://updates.cardano.intersectmbo.org/quarterly/tags/ledger"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="2 posts tagged with &quot;ledger&quot; | Cardano Development Updates"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://updates.cardano.intersectmbo.org/quarterly/tags/ledger"><link data-rh="true" rel="alternate" href="https://updates.cardano.intersectmbo.org/quarterly/tags/ledger" hreflang="en"><link data-rh="true" rel="alternate" href="https://updates.cardano.intersectmbo.org/quarterly/tags/ledger" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Cardano Updates Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Cardano Updates Feed Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="Cardano Updates Feed JSON Feed">



<link rel="alternate" type="application/rss+xml" href="/quarterly/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/quarterly/atom.xml" title="Cardano Development Updates Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/reports/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/reports/atom.xml" title="Cardano Development Updates Atom Feed">

<script src="https://plausible.io/js/script.js" defer="defer" data-domain="updates.cardano.intersectmbo.org"></script><link rel="stylesheet" href="/assets/css/styles.5c10ca85.css">
<link rel="preload" href="/assets/js/runtime~main.3d19331e.js" as="script">
<link rel="preload" href="/assets/js/main.7e74428f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cardano Updates</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/quarterly">Quarterly</a><a class="navbar__item navbar__link" href="/reports">Reports</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/tags">Topics</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tags">All Topics</a></li><li><a class="dropdown__link" href="/tags/network">Network</a></li><li><a class="dropdown__link" href="/tags/consensus">Consensus</a></li><li><a class="dropdown__link" href="/tags/ledger">Ledger</a></li><li><a class="dropdown__link" href="/tags/hydra">Hydra</a></li><li><a class="dropdown__link" href="/tags/db-sync">DB Sync</a></li><li><a class="dropdown__link" href="/tags/cli-api">Node CLI &amp; API</a></li><li><a class="dropdown__link" href="/quarterly/tags/cli-api-quarterly">Node CLI &amp; API Quarterly</a></li><li><a class="dropdown__link" href="/tags/crypto">Crypto</a></li><li><a class="dropdown__link" href="/tags/goedel">Goedel</a></li><li><a class="dropdown__link" href="/tags/mithril">Mithril</a></li><li><a class="dropdown__link" href="/tags/performance-tracing">Performance &amp; Tracing</a></li><li><a class="dropdown__link" href="/reports/tags/benchmarking-reports">Benchmarking Reports</a></li><li><a class="dropdown__link" href="/tags/incident">Incident Reports</a></li><li><a class="dropdown__link" href="/tags/security">Security Reports</a></li></ul></div><a class="navbar__item navbar__link" href="/archive">Archive</a><a href="https://updates.cardano.intersectmbo.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2025-Q4-sre">SRE Q4 2025 Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2025-Q3-sre">SRE Q3 2025 Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2025-Q2-sre">SRE Q2 2025 Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2025-Q1-sre">SRE Q1 2025 Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2024-Q4-sre">SRE Q4 2024 Update</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>2 posts tagged with &quot;ledger&quot;</h1><a href="/quarterly/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/quarterly/2023-04-03-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-03T00:00:00.000Z" itemprop="datePublished">April 3, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ledger-quarterly-update">Ledger Quarterly Update<a class="hash-link" href="#ledger-quarterly-update" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2023-01---2023-03">2023-01 - 2023-03<a class="hash-link" href="#2023-01---2023-03" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-achievements">Main achievements<a class="hash-link" href="#main-achievements" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cips">CIPs<a class="hash-link" href="#cips" title="Direct link to heading">​</a></h4><ul><li><strong>Entering the Voltaire phase</strong> -
CIP-1694 received a major update after participation in the design has expanded to
more and more people, including those who attended the Colorado workshop.
See <a href="https://github.com/cardano-foundation/CIPs/pull/380" target="_blank" rel="noopener noreferrer">CIP-1694</a>.</li><li><strong>Ledger CIP category</strong> -
The ledger team continues to embrace the CIP process, and has begun the process of
registering the ledger as an official CIP category.
See <a href="https://github.com/cardano-foundation/CIPs/pull/456" target="_blank" rel="noopener noreferrer">CIP-84</a>.</li><li><strong>Ledger serialization</strong> -
A CIP for the ledger serialization deprecation cycle has been accepted.
See <a href="https://github.com/cardano-foundation/CIPs/tree/master/CIP-0080" target="_blank" rel="noopener noreferrer">CIP-80</a>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="formal-ledger-model">Formal ledger model<a class="hash-link" href="#formal-ledger-model" title="Direct link to heading">​</a></h4><p>Our new formal specifications backed by Agda have seen a lot of progress.
The majority of the ideas in CIP-1694 are now present, and we have made enough progress
that we can now safely say that the PDF produced by the Agda model will be the
official ledger specification for the Conway ledger era.
See <a href="https://github.com/input-output-hk/formal-ledger-specifications" target="_blank" rel="noopener noreferrer">the repository</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conway-ledger-era">Conway ledger era<a class="hash-link" href="#conway-ledger-era" title="Direct link to heading">​</a></h4><p>Progress on the Haskell implementation of CIP-1694 has gone hand in hand with the formal model.
The major component still missing is the DRep stake distribution, which still presents some
technical challenges.</p><p>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3176" target="_blank" rel="noopener noreferrer">pull-3176</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3216" target="_blank" rel="noopener noreferrer">pull-3216</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3226" target="_blank" rel="noopener noreferrer">pull-3226</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3291" target="_blank" rel="noopener noreferrer">pull-3291</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3326" target="_blank" rel="noopener noreferrer">pull-3326</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3330" target="_blank" rel="noopener noreferrer">pull-3330</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3339" target="_blank" rel="noopener noreferrer">pull-3339</a>]</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="drep-stake-distribution-computation">DRep stake distribution computation<a class="hash-link" href="#drep-stake-distribution-computation" title="Direct link to heading">​</a></h4><p>Adding another large stake distribution to the ledger state must proceed with caution.
We do not want the memory used by the node to increase too much,
and performance problems can lead to reduced block production.
We have prototyped, tested, and benchmarked several approaches that could give us
the current DRep stake distribution at each epoch boundary.
This has very important implications, since we want every ADA holder to be able to at any
time (such as during a contentious vote) register themselves as a DRep and still have time
to vote themselves on the issue.</p><p>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3344" target="_blank" rel="noopener noreferrer">pull-3344</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3353" target="_blank" rel="noopener noreferrer">pull-3353</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3364" target="_blank" rel="noopener noreferrer">pull-3364</a>]</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="integration-work">Integration work<a class="hash-link" href="#integration-work" title="Direct link to heading">​</a></h4><p>The ledger has made some wonderful improvements over the past six months,
but which entail a significant amount of integration efforts:</p><ul><li>Our new versioned CBOR schemes</li><li>Individual deposit tracking</li><li>An improved cross-era interface utilizing lenses</li><li>A new ledger API</li><li>Re-arranging the ledger stake in preparation for CIP-1694</li><li>Versioning our Haskell packages
using <a href="https://github.com/input-output-hk/cardano-haskell-packages" target="_blank" rel="noopener noreferrer">CHaPs</a>.</li><li>Consistent conventions for variable names</li></ul><p>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3279" target="_blank" rel="noopener noreferrer">pull-3279</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3282" target="_blank" rel="noopener noreferrer">pull-3282</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3288" target="_blank" rel="noopener noreferrer">pull-3288</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3289" target="_blank" rel="noopener noreferrer">pull-3289</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3292" target="_blank" rel="noopener noreferrer">pull-3292</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3297" target="_blank" rel="noopener noreferrer">pull-3297</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3298" target="_blank" rel="noopener noreferrer">pull-3298</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3299" target="_blank" rel="noopener noreferrer">pull-3299</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3300" target="_blank" rel="noopener noreferrer">pull-3300</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3302" target="_blank" rel="noopener noreferrer">pull-3302</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3303" target="_blank" rel="noopener noreferrer">pull-3303</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3308" target="_blank" rel="noopener noreferrer">pull-3308</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3342" target="_blank" rel="noopener noreferrer">pull-3342</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3345" target="_blank" rel="noopener noreferrer">pull-3345</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3356" target="_blank" rel="noopener noreferrer">pull-3356</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3357" target="_blank" rel="noopener noreferrer">pull-3357</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3360" target="_blank" rel="noopener noreferrer">pull-3360</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3361" target="_blank" rel="noopener noreferrer">pull-3361</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3363" target="_blank" rel="noopener noreferrer">pull-3363</a>]
[<a href="https://github.com/input-output-hk/ouroboros-network/pull/4349" target="_blank" rel="noopener noreferrer">pull-4349</a>]
[<a href="https://github.com/input-output-hk/cardano-base/pull/378" target="_blank" rel="noopener noreferrer">pull-378</a>]
[<a href="https://github.com/input-output-hk/cardano-base/pull/376" target="_blank" rel="noopener noreferrer">pull-376</a>]
[<a href="https://github.com/input-output-hk/cardano-base/pull/373" target="_blank" rel="noopener noreferrer">pull-373</a>]
[<a href="https://github.com/input-output-hk/cardano-base/pull/370" target="_blank" rel="noopener noreferrer">pull-370</a>]
[<a href="https://github.com/input-output-hk/cardano-base/pull/361" target="_blank" rel="noopener noreferrer">pull-361</a>]
[<a href="https://github.com/input-output-hk/cardano-node/pull/4976" target="_blank" rel="noopener noreferrer">pull-4976</a>]
[<a href="https://github.com/input-output-hk/cardano-node/pull/5013" target="_blank" rel="noopener noreferrer">pull-5013</a>]</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deposit-tracking">Deposit tracking<a class="hash-link" href="#deposit-tracking" title="Direct link to heading">​</a></h4><p>Individual deposits (for stake credential and stake pool registrations) were not tracked by the ledger.
Deposits were returned according to the current protocol parameters.
When the values of these two protocol parameters change, the deposit pot
is adjusted by adding to, or removing from, the reserves.</p><p>This has several problems:</p><ul><li>Most people expect a deposit to be paid back exactly.</li><li>We cannot increase the deposit amount once the reserves hits zero.</li><li>If it becomes known that the deposit amount is going to be increased, free Lovelace can be earned by registering credentials.</li><li>Because of the problems above, it is going to be incredibly hard to ever change the values.</li><li>There is a serious issue involving hard forks.
The consensus layer makes the decision about whether or not to enact a hard fork based on
the protocol parameter update state two stability windows before the end of the epoch.
However, the ledger will reject a protocol parameter update on the epoch boundary
if the deposit pot adjustments cannot be reconciled with the reseve pot.
This means that if quorum is met regarding changing the major protocol version,
but the update is rejected on the epoch boundary, consensus will change the era but the
ledger will not change the major protocol version, leaving the ledger in a split-brain state.</li></ul><p>Because we never actually changed the values of the two deposits amounts in the protocol parameters
on mainnet, we were able to retroactively change the behavior.
We made the following changes:</p><ul><li>Individual deposits are tracked in the <code>DState</code>.</li><li>The amount deposited is always returned.</li></ul><p>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3195" target="_blank" rel="noopener noreferrer">pull-3195</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3202" target="_blank" rel="noopener noreferrer">pull-3202</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3217" target="_blank" rel="noopener noreferrer">pull-3217</a>]</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-ledger-api">New ledger API<a class="hash-link" href="#new-ledger-api" title="Direct link to heading">​</a></h4><p>We have significantly built up the ledger API.
We will eventually replace much of the <code>cardano-api</code> in the node repository with this ledger API.</p><p>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3242" target="_blank" rel="noopener noreferrer">pull-3242</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3248" target="_blank" rel="noopener noreferrer">pull-3248</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3328" target="_blank" rel="noopener noreferrer">pull-3328</a>]</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-based-generators">Constraint-based generators<a class="hash-link" href="#constraint-based-generators" title="Direct link to heading">​</a></h4><p>Our largest scale property tests generate an initial ledger state and a long sequence of valid blocks
which span several epochs, mimicking a real network.
These tests are, in theory, excellent for checking properties.
They are, however, very difficult to maintain and are not as random as we would like
(a lot of bias has to be introduced to keep the ledger state in enough order to keep generating blocks).</p><p>We have a new declaritive infrastructure for building constraint-based generators,
which instead generate a random ledger state representative of not just an initial state,
but also those representative of the end result of a long sequence of valid blocks.
Moreover, these generators are very fast and are much more random than our old generators.
Before we can start using them for our existing property tests, however, we still need to
expand them to generate a valid block for a given ledger state.</p><p>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3219" target="_blank" rel="noopener noreferrer">pull-3219</a>]</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">​</a></h4><p>We continued to address technical debt as much as we can.</p><p>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3167" target="_blank" rel="noopener noreferrer">pull-3167</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3170" target="_blank" rel="noopener noreferrer">pull-3170</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3172" target="_blank" rel="noopener noreferrer">pull-3172</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3175" target="_blank" rel="noopener noreferrer">pull-3175</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3184" target="_blank" rel="noopener noreferrer">pull-3184</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3205" target="_blank" rel="noopener noreferrer">pull-3205</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3208" target="_blank" rel="noopener noreferrer">pull-3208</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3210" target="_blank" rel="noopener noreferrer">pull-3210</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3212" target="_blank" rel="noopener noreferrer">pull-3212</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3218" target="_blank" rel="noopener noreferrer">pull-3218</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3222" target="_blank" rel="noopener noreferrer">pull-3222</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3223" target="_blank" rel="noopener noreferrer">pull-3223</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3224" target="_blank" rel="noopener noreferrer">pull-3224</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3225" target="_blank" rel="noopener noreferrer">pull-3225</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3229" target="_blank" rel="noopener noreferrer">pull-3229</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3239" target="_blank" rel="noopener noreferrer">pull-3239</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3241" target="_blank" rel="noopener noreferrer">pull-3241</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3244" target="_blank" rel="noopener noreferrer">pull-3244</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3245" target="_blank" rel="noopener noreferrer">pull-3245</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3249" target="_blank" rel="noopener noreferrer">pull-3249</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3260" target="_blank" rel="noopener noreferrer">pull-3260</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3263" target="_blank" rel="noopener noreferrer">pull-3263</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3264" target="_blank" rel="noopener noreferrer">pull-3264</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3268" target="_blank" rel="noopener noreferrer">pull-3268</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3269" target="_blank" rel="noopener noreferrer">pull-3269</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3270" target="_blank" rel="noopener noreferrer">pull-3270</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3274" target="_blank" rel="noopener noreferrer">pull-3274</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3276" target="_blank" rel="noopener noreferrer">pull-3276</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3277" target="_blank" rel="noopener noreferrer">pull-3277</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3286" target="_blank" rel="noopener noreferrer">pull-3286</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3290" target="_blank" rel="noopener noreferrer">pull-3290</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3295" target="_blank" rel="noopener noreferrer">pull-3295</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3296" target="_blank" rel="noopener noreferrer">pull-3296</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3306" target="_blank" rel="noopener noreferrer">pull-3306</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3307" target="_blank" rel="noopener noreferrer">pull-3307</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3310" target="_blank" rel="noopener noreferrer">pull-3310</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3311" target="_blank" rel="noopener noreferrer">pull-3311</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3316" target="_blank" rel="noopener noreferrer">pull-3316</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3320" target="_blank" rel="noopener noreferrer">pull-3320</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3323" target="_blank" rel="noopener noreferrer">pull-3323</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3327" target="_blank" rel="noopener noreferrer">pull-3327</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3331" target="_blank" rel="noopener noreferrer">pull-3331</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3332" target="_blank" rel="noopener noreferrer">pull-3332</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3333" target="_blank" rel="noopener noreferrer">pull-3333</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3338" target="_blank" rel="noopener noreferrer">pull-3338</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3341" target="_blank" rel="noopener noreferrer">pull-3341</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3347" target="_blank" rel="noopener noreferrer">pull-3347</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3350" target="_blank" rel="noopener noreferrer">pull-3350</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3351" target="_blank" rel="noopener noreferrer">pull-3351</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3352" target="_blank" rel="noopener noreferrer">pull-3352</a>]
[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3354" target="_blank" rel="noopener noreferrer">pull-3354</a>]</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="critical-fixes">Critical fixes<a class="hash-link" href="#critical-fixes" title="Direct link to heading">​</a></h5><p>We fixed two critical issues:</p><ul><li>Growing block production delay on the epoch boundary: [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3209" target="_blank" rel="noopener noreferrer">pull-3209</a>]</li><li>Unexpected node shutdown from <code>balanceR</code>: [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3343" target="_blank" rel="noopener noreferrer">pull-3343</a>]</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">​</a></h3><ul><li><strong>Conway spec</strong> -
Complete the first version of the conway formal specification.</li><li><strong>DRep stake distribution</strong> -
Have the ledger compute the DRep stake distribution with acceptible performance.</li><li><strong>Devnet ready</strong> -
Have the Haskell implementation of the conway era in sync with the formal specification,
and integrate the changes with consensus and node.
All the details might not be finalized, but the wire specification and the API should
be stable so that conway can be placed on a devnet for tool builders to start integrating with.</li><li><strong>Plutus V3</strong> -
Integrate Plutus V3 into the ledger, including a new script context which supports DReps.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="more-details">More details<a class="hash-link" href="#more-details" title="Direct link to heading">​</a></h3><p>This quarterly report was based off of the following fortnightly ones:</p><ul><li><a href="/quarterly/tags/2023-01-05-ledger">2023-01-05</a></li><li><a href="/quarterly/tags/2023-01-19-ledger">2023-01-19</a></li><li><a href="/quarterly/tags/2023-02-02-ledger">2023-02-02</a></li><li><a href="/quarterly/tags/2023-02-17-ledger">2023-02-17</a></li><li><a href="/quarterly/tags/2023-03-03-ledger">2023-03-03</a></li><li><a href="/quarterly/tags/2023-03-17-ledger">2023-03-17</a></li><li><a href="/quarterly/tags/2023-03-31-ledger">2023-03-31</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/quarterly/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/quarterly/2022-11-07-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-07T00:00:00.000Z" itemprop="datePublished">November 7, 2022</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ledger-quarterly-update">Ledger Quarterly Update<a class="hash-link" href="#ledger-quarterly-update" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2022-09---2022-11-04">2022-09 - 2022-11-04<a class="hash-link" href="#2022-09---2022-11-04" title="Direct link to heading">​</a></h2><ul><li>We finished a minimal ledger era capable of master key rotation.
This will be re-purposed our upcoming work.</li><li>We have the humble beginnings of a proper ledger API.</li><li>We improved the problematic cost model serialization
(recall the song and dance about updating the cost model one epoch after the hard fork).</li><li>We have added benchmarks for problematic areas.</li><li>Massive repository restructure and cleanup.<ul><li>Unified and consistent variable name schemes (not completely finished, but nearly there).</li><li>Massive reduction in type constraints, which causes a lot of developer friction,
in our code and also downstream.</li><li>More organized module structures.</li><li>Improved generators for our property tests.</li><li>We removed our dependency on cardano-prelude.</li></ul></li><li>The formal ledger model has come a long way.<ul><li>We created a fork of Agda that provides some meta-programming support for the ledger rules.</li><li>We have a large amount of the basic UTxO support in the model.</li><li>We can generate a good looking PDF from the model.</li><li>We can produce Haskell from the model.</li><li>We have a nice finite set theory library that we can use for many of the ledger rules.</li><li>We have nix support for the model.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">​</a></h2><ul><li>Individual tracking of deposits. [<a href="https://github.com/input-output-hk/cardano-ledger/issues/3113" target="_blank" rel="noopener noreferrer">issue-3113</a>]</li><li>Versioned CBOR encoders/decoders. [<a href="https://github.com/input-output-hk/cardano-ledger/issues/3014" target="_blank" rel="noopener noreferrer">issue-3014</a>]</li><li>New ledger era transaction body (and the surround work associated with it).</li><li>Designs for the next ledger era.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/quarterly/tags/ledger">ledger</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/tags">Tags</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Intersect, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3d19331e.js"></script>
<script src="/assets/js/main.7e74428f.js"></script>
</body>
</html>