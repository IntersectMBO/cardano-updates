<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-quarterly">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">5 posts tagged with &quot;consensus&quot; | Cardano Development Updates</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://updates.cardano.intersectmbo.org/quarterly/tags/consensus"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="5 posts tagged with &quot;consensus&quot; | Cardano Development Updates"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://updates.cardano.intersectmbo.org/quarterly/tags/consensus"><link data-rh="true" rel="alternate" href="https://updates.cardano.intersectmbo.org/quarterly/tags/consensus" hreflang="en"><link data-rh="true" rel="alternate" href="https://updates.cardano.intersectmbo.org/quarterly/tags/consensus" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Cardano Updates Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Cardano Updates Feed Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="Cardano Updates Feed JSON Feed">



<link rel="alternate" type="application/rss+xml" href="/quarterly/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/quarterly/atom.xml" title="Cardano Development Updates Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/reports/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/reports/atom.xml" title="Cardano Development Updates Atom Feed">

<script src="https://plausible.io/js/script.js" defer="defer" data-domain="updates.cardano.intersectmbo.org"></script><link rel="stylesheet" href="/assets/css/styles.5c10ca85.css">
<link rel="preload" href="/assets/js/runtime~main.3d19331e.js" as="script">
<link rel="preload" href="/assets/js/main.7e74428f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cardano Updates</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/quarterly">Quarterly</a><a class="navbar__item navbar__link" href="/reports">Reports</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/tags">Topics</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tags">All Topics</a></li><li><a class="dropdown__link" href="/tags/network">Network</a></li><li><a class="dropdown__link" href="/tags/consensus">Consensus</a></li><li><a class="dropdown__link" href="/tags/ledger">Ledger</a></li><li><a class="dropdown__link" href="/tags/hydra">Hydra</a></li><li><a class="dropdown__link" href="/tags/db-sync">DB Sync</a></li><li><a class="dropdown__link" href="/tags/cli-api">Node CLI &amp; API</a></li><li><a class="dropdown__link" href="/quarterly/tags/cli-api-quarterly">Node CLI &amp; API Quarterly</a></li><li><a class="dropdown__link" href="/tags/crypto">Crypto</a></li><li><a class="dropdown__link" href="/tags/goedel">Goedel</a></li><li><a class="dropdown__link" href="/tags/mithril">Mithril</a></li><li><a class="dropdown__link" href="/tags/performance-tracing">Performance &amp; Tracing</a></li><li><a class="dropdown__link" href="/reports/tags/benchmarking-reports">Benchmarking Reports</a></li><li><a class="dropdown__link" href="/tags/incident">Incident Reports</a></li><li><a class="dropdown__link" href="/tags/security">Security Reports</a></li></ul></div><a class="navbar__item navbar__link" href="/archive">Archive</a><a href="https://updates.cardano.intersectmbo.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2025-Q4-sre">SRE Q4 2025 Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2025-Q3-sre">SRE Q3 2025 Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2025-Q2-sre">SRE Q2 2025 Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2025-Q1-sre">SRE Q1 2025 Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/quarterly/2024-Q4-sre">SRE Q4 2024 Update</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>5 posts tagged with &quot;consensus&quot;</h1><a href="/quarterly/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/quarterly/2023-Q4-consensus">Consensus Q4 2023 Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-01-23T10:58:30.000Z" itemprop="datePublished">January 23, 2024</time> ¬∑ <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/dnadales.png" alt="Damian Nadales"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Damian Nadales</span></a></div><small class="avatar__subtitle" itemprop="description">Consensus Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="areas-of-focus">Areas of focus<a class="hash-link" href="#areas-of-focus" title="Direct link to heading">‚Äã</a></h2><table><thead><tr><th>Issue</th><th>Status</th></tr></thead><tbody><tr><td><a href="https://github.com/IntersectMBO/ouroboros-consensus/issues/429" target="_blank" rel="noopener noreferrer">Implement legacy mode for UTxO-HD to keep baseline performance</a></td><td>‚úÖ Done</td></tr><tr><td><a href="https://github.com/IntersectMBO/ouroboros-consensus/issues/423" target="_blank" rel="noopener noreferrer">Assist mainnet node release with initial Conway capabilities</a></td><td>‚úÖ Done</td></tr><tr><td><a href="https://github.com/IntersectMBO/ouroboros-consensus/issues/424" target="_blank" rel="noopener noreferrer">Assist with test, benchmark, and improvements to CIP 1694</a></td><td>‚úÖ Done</td></tr><tr><td><a href="https://github.com/IntersectMBO/ouroboros-consensus/issues/414" target="_blank" rel="noopener noreferrer">Assist with P2P IOG relay network shut down</a></td><td>‚úÖ Done</td></tr><tr><td><a href="https://github.com/IntersectMBO/ouroboros-consensus/issues/425" target="_blank" rel="noopener noreferrer">Assist with repo transfer to Intersect</a></td><td>‚úÖ Done</td></tr><tr><td><a href="https://github.com/IntersectMBO/ouroboros-consensus/issues/427" target="_blank" rel="noopener noreferrer">Support vendors to deliver contracts</a></td><td>‚úÖ Done</td></tr><tr><td><a href="https://github.com/IntersectMBO/ouroboros-consensus/issues/415" target="_blank" rel="noopener noreferrer">Operation serenity Q4 2023</a></td><td>‚úÖ Done</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="highlights">Highlights<a class="hash-link" href="#highlights" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implement-legacy-mode-for-utxo-hd-to-keep-baseline-performance">Implement legacy mode for UTxO-HD to keep baseline performance<a class="hash-link" href="#implement-legacy-mode-for-utxo-hd-to-keep-baseline-performance" title="Direct link to heading">‚Äã</a></h3><ul><li>‚úÖ We managed to run a UTxO-HD capable node in legacy mode, maintaining the baseline memory usage while keeping all the ledger state in memory.<ul><li>While the legacy mode is not production-ready (it requires further integration and testing), it remains as a plan B should the need arise to release UTxO-HD if our stakeholders so demand it.</li></ul></li><li>‚úÖ We pivoted to redesigning the Ledger DB API because:<ul><li>This is needed for integrating the LSM-tree backend.</li><li>The redesign opened the possibility of implementing an in-memory backend that would keep the same performance and resource requirements as the baseline version (which needs to be confirmed by benchmarks).</li></ul></li><li>‚úÖ We created a more general Ledger DB API.</li><li>üõ†Ô∏è We are integrating (into the feature branch) the existing Ledger DB implementations with the new API.</li><li>üõ†Ô∏è We are implementing the new in-memory backend.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assist-mainnet-node-release-with-initial-conway-capabilities-test-benchmark-and-improvements-to-cip-1694">Assist mainnet node release with initial Conway capabilities, test, benchmark, and improvements to CIP 1694<a class="hash-link" href="#assist-mainnet-node-release-with-initial-conway-capabilities-test-benchmark-and-improvements-to-cip-1694" title="Direct link to heading">‚Äã</a></h3><ul><li>‚úÖ  We recognized that Conway introduces a new challenge in the versioning of NTC queries, and we resolved it (see <a href="https://github.com/IntersectMBO/ouroboros-consensus/issues/864" target="_blank" rel="noopener noreferrer">864</a> and <a href="https://github.com/IntersectMBO/ouroboros-network/issues/4770" target="_blank" rel="noopener noreferrer">4770</a>).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assist-with-p2p-iog-relay-network-shut-down">Assist with P2P IOG relay network shut down<a class="hash-link" href="#assist-with-p2p-iog-relay-network-shut-down" title="Direct link to heading">‚Äã</a></h3><ul><li>‚úÖ We created a prototype for the pre-Genesis State Machine for bootstrap peers, which is currently under test (see <a href="https://github.com/IntersectMBO/ouroboros-consensus/pull/808" target="_blank" rel="noopener noreferrer">this PR</a>).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assist-with-repo-transfer-to-intersect">Assist with repo transfer to Intersect<a class="hash-link" href="#assist-with-repo-transfer-to-intersect" title="Direct link to heading">‚Äã</a></h3><ul><li>‚úÖ We transferred the <code>ouroboros-consensus</code> repository to the Intersect GitHub organization.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="support-vendors-to-deliver-contracts">Support vendors to deliver contracts<a class="hash-link" href="#support-vendors-to-deliver-contracts" title="Direct link to heading">‚Äã</a></h3><ul><li>Genesis<ul><li>‚úÖ Interacted with the Consensus team and addressed resulting feedback on past deliverables.</li><li>‚úÖ Finished implementation of the testing infrastructure of Genesis</li><li>‚úÖ Started to refine the Proof of Concept demo into an actual implementation of the core components of the Genesis design.</li></ul></li><li>üíæ LSM-tree implementation. Well Typed:<ul><li>‚úÖ Finished the design of the public facing API.</li><li>‚úÖ Defined the LSM-tree database file-type formats.</li><li>‚úÖ Implemented property and model-based tests.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="operation-serenity-q4-2023">Operation serenity Q4 2023<a class="hash-link" href="#operation-serenity-q4-2023" title="Direct link to heading">‚Äã</a></h3><ul><li>üéâ We welcomed our newest team member @RenateEilers and assisted with her (ongoing) onboarding.</li><li>‚úÖ We implemented a simplification in the ChainSync mini-protocol that is also a step towards Ouroboros Chronos.</li><li>‚úÖ We added tests to check Consensus emits valid CBOR, which prevents the generation of invalid binary encoding.</li><li>‚úÖ We established and implemented an interface between Consensus tooling and P&amp;T tooling, which constitutes a step towards incorporating component level benchmarks in our development process.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/quarterly/tags/consensus">consensus</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/quarterly/2023-Q2-consensus">Consensus Q2 2023 Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-16T17:45:45.000Z" itemprop="datePublished">July 16, 2023</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/dnadales.png" alt="Damian Nadales"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Damian Nadales</span></a></div><small class="avatar__subtitle" itemprop="description">Consensus Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2023-04----2023-06">2023-04 -- 2023-06<a class="hash-link" href="#2023-04----2023-06" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-achievements">Main achievements<a class="hash-link" href="#main-achievements" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd">UTxO HD<a class="hash-link" href="#utxo-hd" title="Direct link to heading">‚Äã</a></h4><ul><li>We finished a major prototype refactoring, which includes:<ul><li>A better and finer grained DB lock mechanism.</li><li>Elimination of race conditions.</li><li>Support for configuring batch query size and flushing rate. This is crucial to allow node users to tweak performance.</li><li>Architectural simplifications and performance improvements.</li></ul></li><li>We implemented a new package to support db-sync integration with UTxO-HD.</li><li>We ran another set of ad-hoc benchmarks:<ul><li>We uncovered a performance regression on the Network component when using <code>GHC-9.2/9.4</code>.</li><li>The synchronization and replay speed are as expected.</li><li>However, we uncovered memory consumption issues (see figure below).<ul><li>The in-memory backend is consuming more memory than the baseline.</li><li>The LMDB backend shows an unexpected memory usage peak.</li><li>Investigation on these issues is ongoing.</li></ul></li></ul></li><li>We integrated the latest changes in <code>main</code> branch.<ul><li>This required a re-design of the mempool to include the mempool fairness
improvement.</li></ul></li></ul><p><img loading="lazy" src="/assets/images/2023-Q2-utxo-hd-sync-ad-hoc-benchmarks-74f9d76c2602f09652f584cc4d6a0962.png" width="2500" height="1700" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis">Genesis<a class="hash-link" href="#genesis" title="Direct link to heading">‚Äã</a></h4><ul><li>The Genesis work for this PI focused on an high-priority issue from the IOG Researchers&#x27; feedback on the proposal.<ul><li>This particular question was not anticipated when the Q2 PI was planned.</li><li>As a result, the chain generators work, the ChainSync Jumping performance work, and the Genesis node prototype work were deprioritized.</li><li>That work has accordingly been rolled over into the Statement of Work for the first Genesis vendor work package.</li></ul></li><li>The IOG Researchers&#x27; feedback on the design was very valuable. It had two primary effects.</li><li>Outcome 1: We re-introduced distinct behaviors when the node is &quot;syncing&quot; versus when it is &quot;caught up&quot;.<ul><li>This eliminated a DoS vector introduced by the proposal, instead of having to argue that it was well-mitigated.</li><li>The additional design complexity is relatively small.</li></ul></li><li>Outcome 2: The issue that was unanticipated is whether the Cardano chain is consistently dense enough to rely on Genesis without any checkpointing.<ul><li>The determination so far is that---assuming the adversary never controls more than four of the seven genesis keys---the most vulnerable segment is in the pure Praos era.</li><li>All the preceding windows are significantly more robust, including the entire Byron and Transitional Praos eras.</li><li>Thus checkpointing is not necessary for the initial Genesis release, though it still may be a reasonable addition later.</li><li>The primary invention was a model for bounding how much benefit the adversary&#x27;s long-range attack could possibly gain from Praos&#x27;s natural short forks.</li></ul></li><li>Relevant questions that the IOG Researchers are still assessing.<ul><li>These do not block the Genesis implementation, but do affect the ultimate values of specific parameters.</li><li>Question 1: what is the upper bound on the duration of an eclipse that a healthy Praos node will survive?</li><li>Question 2: what is the upper bound on how much grinding can improve the adversary&#x27;s leader schedule within some Genesis window?</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="support">Support<a class="hash-link" href="#support" title="Direct link to heading">‚Äã</a></h4><ul><li>We performed an analysis on number of file descriptors used by Consensus, this
information can be used by the node operators to check if the number of file
descriptors they want to support are enough, thus improving the user (eg node
operator) experience.</li><li>We implemented a mempool fairness improvement, by which transactions are
guaranteed to be processed irrespective of their size.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">‚Äã</a></h4><ul><li>We fixed a bug in followers logic, which was discovered by our <code>QuickCheck</code>
property tests.</li><li>We created an <a href="https://github.com/input-output-hk/ouroboros-consensus/pull/68" target="_blank" rel="noopener noreferrer">immutable DB
server</a>. This tool allows to serve blocks from the immutable DB to a node that connects to it. This has a remarkable value for testing and benchmarking purposes. For instance, by using this component, we can benchmark the performance of different aspects of Consensus, such as syncing from scratch, without adding Network interference in the performance results.</li><li>We created a <a href="https://github.com/input-output-hk/ouroboros-consensus/pull/70" target="_blank" rel="noopener noreferrer"><code>db-truncater</code></a> tool, which can be used in disaster recovery and benchmarking scenarios.</li><li>We created a <a href="https://github.com/input-output-hk/ouroboros-consensus/pull/161" target="_blank" rel="noopener noreferrer">benchmarks comparison tool</a> that we plan on using for comparing the performance of two Consensus releases. This will allow us to catch performance regressions early on in the process, before they make it to the node (and show in the system level benchmark tests), thus greatly saving development costs. As an example, the graph below shows the performance <em>improvements</em> introduced by the Ledger team in version <code>0.6.0.0</code> of Consensus wrt version <code>0.5.0.0</code>.</li></ul><p><img loading="lazy" src="/assets/images/2023-Q2-beacon-graph-ded65e814bfe6d927faa1c5c66bbbfad.png" width="1840" height="1372" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fostering-collaboration">Fostering collaboration<a class="hash-link" href="#fostering-collaboration" title="Direct link to heading">‚Äã</a></h4><ul><li>We released <code>fs-sim</code> as open-source repository. This lowers the barrier to entry for external contributors, which will indirectly benefit the Cardano project.</li><li>We migrated the consensus code to a <a href="https://github.com/input-output-hk/ouroboros-consensus" target="_blank" rel="noopener noreferrer">new repository</a>, splitting
it from the <code>ouroboros-network</code> repository. This will save development effort for both the Network and the Consensus teams, since there will be less interference (for instance when making releases).</li><li>We made several improvements to our release processes, which will translate in time savings. As an example, we went from 16 to 4 packages, which makes the release process simpler and smother. Our release process now makes it easier to align versions and make releases (both for us and for our downstream users).</li><li>We added an explanation of the hardfork-combinator forecast horizon, that will benefit not only our team, but future external contributors.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd-1">UTxO HD<a class="hash-link" href="#utxo-hd-1" title="Direct link to heading">‚Äã</a></h4><ul><li>We will <a href="https://github.com/input-output-hk/ouroboros-consensus/issues/28" target="_blank" rel="noopener noreferrer">get UTxO-HD ready for handover</a>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis-1">Genesis<a class="hash-link" href="#genesis-1" title="Direct link to heading">‚Äã</a></h4><ul><li>We will regularly liaise with the vendor(s) satisfying the Genesis Statement(s) of Work.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/quarterly/tags/consensus">consensus</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/quarterly/2023-04-25-consensus">Consensus Quarterly Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-25T00:00:00.000Z" itemprop="datePublished">April 25, 2023</time> ¬∑ <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/dnadales.png" alt="Damian Nadales"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Damian Nadales</span></a></div><small class="avatar__subtitle" itemprop="description">Consensus Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consensus-quarterly-update">Consensus Quarterly Update<a class="hash-link" href="#consensus-quarterly-update" title="Direct link to heading">‚Äã</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2023-01---2023-03">2023-01 - 2023-03<a class="hash-link" href="#2023-01---2023-03" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-achievements">Main achievements<a class="hash-link" href="#main-achievements" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd">UTxO HD<a class="hash-link" href="#utxo-hd" title="Direct link to heading">‚Äã</a></h4><ul><li>We finished the testing activities for the prototype, which involved adding
new tests, and fixing and enabling temporarily disabled tests.</li><li>We spent a substantial amount of effort refactoring and cleaning the
prototype.</li><li>We audited the UTxO HD prototype to make sure it can accommodate the migration
of other tables (eg stake-keys registration) from memory to disk. The result
of the audit was positive.</li><li>We ran ad-hoc benchmarks for reading keys and flushing values to disk. No
unexpected costs found.</li><li>We ran the first system level benchmarks. The performance regressions reported
were due to an unrealistic snapshotting rate. We need to re-run them again
after we design a more fine grained locking mechanism.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis">Genesis<a class="hash-link" href="#genesis" title="Direct link to heading">‚Äã</a></h4><ul><li>We elaborated a roadmap of the remaining work for Genesis.</li><li>We presented the design to the IOG Researchers and PNSol on February 20. The
design was well received. We updated the Genesis design with the researcher&#x27;s
feedback.<ul><li>We plugged the new DoS vector identified during the aforementioned
presentation.</li></ul></li><li>We developed a generator for adversarial leader schedules that satisfy key
Ouroboros properties, which will be used to test the Genesis design.<ul><li>The generator enables use of smaller Ouroboros parameters, which makes
extrema more likely and counterxamples easier interpret.</li></ul></li><li>We wrote up the latest design iteration.</li><li>We continued benchmarking the Chain Sync Jumping prototype. In particular:<ul><li>We debugged the prototype&#x27;s performance regression, and unmasked the
actual cause by patching our initial theory (bad queuing behavior)</li><li>We identified and validated the actual cause (a pathological case in
BlockFetch tiebreaker).</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="support">Support<a class="hash-link" href="#support" title="Direct link to heading">‚Äã</a></h4><ul><li>We created two new tools. One for dumping CBOR encoded blocks to JSON. Ahother
to serve a local immutable DB.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conway-era">Conway era<a class="hash-link" href="#conway-era" title="Direct link to heading">‚Äã</a></h4><ul><li>We integrated the Conway era into consensus.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">‚Äã</a></h4><ul><li>We fixed a bug with followers, which was discovered by property tests.</li><li>We developed a DSL for specifying and running ChainDB test cases.</li><li>We fixed failing tests with iterators.</li><li>We created micro-benchmarks for adding transactions to the mempool.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fostering-collaboration">Fostering collaboration<a class="hash-link" href="#fostering-collaboration" title="Direct link to heading">‚Äã</a></h4><ul><li>We released a new technical documentation site for consensus.</li><li>We factored out several packages to external repositories. Some of this work
originated in the UTxO HD workstream.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd-1">UTxO HD<a class="hash-link" href="#utxo-hd-1" title="Direct link to heading">‚Äã</a></h4><ul><li><a href="https://github.com/input-output-hk/ouroboros-consensus/issues/28" target="_blank" rel="noopener noreferrer">https://github.com/input-output-hk/ouroboros-consensus/issues/28</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis-1">Genesis<a class="hash-link" href="#genesis-1" title="Direct link to heading">‚Äã</a></h4><ul><li><a href="https://github.com/input-output-hk/ouroboros-consensus/issues/33" target="_blank" rel="noopener noreferrer">https://github.com/input-output-hk/ouroboros-consensus/issues/33</a></li><li><a href="https://github.com/input-output-hk/ouroboros-consensus/issues/32" target="_blank" rel="noopener noreferrer">https://github.com/input-output-hk/ouroboros-consensus/issues/32</a></li><li><a href="https://github.com/input-output-hk/ouroboros-consensus/issues/31" target="_blank" rel="noopener noreferrer">https://github.com/input-output-hk/ouroboros-consensus/issues/31</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="support-1">Support<a class="hash-link" href="#support-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Design Consensus side of hardfork-enactment in the Voltaire phase
(<a href="https://github.com/input-output-hk/ouroboros-network/issues/4180" target="_blank" rel="noopener noreferrer">#4180</a>).</li><li>Estimate the number of file descriptors Consensus needs
<a href="https://github.com/input-output-hk/ouroboros-consensus/issues/20" target="_blank" rel="noopener noreferrer">#20</a>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tech-debt">Tech debt<a class="hash-link" href="#tech-debt" title="Direct link to heading">‚Äã</a></h4><ul><li>Identify Quantitative Timeliness Agreements (QTAs) metrics that we can define
for consensus. Pick one and implement benchmarks for it.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fostering-collaboration-1">Fostering collaboration<a class="hash-link" href="#fostering-collaboration-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Onboard a new team member.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/quarterly/tags/consensus">consensus</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/quarterly/2023-01-18-consensus">Consensus Quarterly Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-01-18T00:00:00.000Z" itemprop="datePublished">January 18, 2023</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/dnadales.png" alt="Damian Nadales"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Damian Nadales</span></a></div><small class="avatar__subtitle" itemprop="description">Consensus Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consensus-quarterly-update">Consensus Quarterly Update<a class="hash-link" href="#consensus-quarterly-update" title="Direct link to heading">‚Äã</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2022-12---2023-01">2022-12 - 2023-01<a class="hash-link" href="#2022-12---2023-01" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-achievements">Main achievements<a class="hash-link" href="#main-achievements" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd">UTxO HD<a class="hash-link" href="#utxo-hd" title="Direct link to heading">‚Äã</a></h4><p>The prototype is feature complete and thoroughly tested at the consensus level.
In particular, we invested a lot of time in writing property-test for the
mempool, and other crucial new parts of the prototype. Now we are ready to run
integration tests and system-level benchmarks.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis">Genesis<a class="hash-link" href="#genesis" title="Direct link to heading">‚Äã</a></h4><p>We identified and fixed a slowdown in cross-era forecasting that was inhibiting
our efforts to benchmark the ChainSync Jumping prototype. This resulted in a 7%
speedup in full sync times in the baseline.</p><p>We also started prototyping a self-contained implementation of the Genesis
dynamics (in particular of the parts intentionally not part of the ChainSync
Jumping prototype) that furthered our understanding of subtleties and edge
cases.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="support">Support<a class="hash-link" href="#support" title="Direct link to heading">‚Äã</a></h4><ul><li>We worked on designing integration of new VRF and KES crypto into consensus.<ul><li><code>Crypto</code> class was split into two parts: <code>Crypto</code> and <code>HeaderCrypto</code>.</li><li>With the Ledger team&#x27;s help, we refactored <code>cardano-ledger</code> to use a proxy
type for VRF.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conway-era">Conway era<a class="hash-link" href="#conway-era" title="Direct link to heading">‚Äã</a></h4><ul><li>PR went through its second review round. It is about to be merged, but it got
delayed due to people&#x27;s availability during Christmas break.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">‚Äã</a></h4><ul><li>We improved the capabilities of our <code>io-sim</code> library, which is key for testing
and simulating Cardano components.</li><li>We removed thunks from epoch translations in the ledger, which is important
for reducing memory consumption of the Cardano node.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fostering-collaboration">Fostering collaboration<a class="hash-link" href="#fostering-collaboration" title="Direct link to heading">‚Äã</a></h4><ul><li>We added a tutorial on how to instantiate the Consensus layer to run custom
ledgers. This should be a valuable resource to people looking to roll their
own custom blockchain (either for commercial or research purposes).</li><li>We added an overview of consensus to the <a href="https://ouroboros-network.cardano.intersectmbo.org/" target="_blank" rel="noopener noreferrer">top level
documentation</a> of
ouroboros-network. This overview describes the consensus components and adds a
hyperlinked map to the modules documentation.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd-1">UTxO HD<a class="hash-link" href="#utxo-hd-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Evaluate the extensibility of the prototype. Moving the UTxO to disk is only
the first step towards reducing the memory requirements of Cardano node, and
ensuring its long term sustainability. In the future, we plan on moving other
large maps, such as delegation maps. The prototype should be able to
accommodate these changes without any major modifications.</li><li>Start the integration with other downstream components, such as the wallet and
db-sync. The idea is to identify and address any potential pain points that
might arise during this integration.</li><li>Run integration tests and system-level benchmarks.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis-1">Genesis<a class="hash-link" href="#genesis-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Finish benchmarking and tuning the fast-path ChainSync Jumping prototype</li><li>Expand and optimize the self-contained implementation of the Disconnect Rule
(including density comparisons and the LoE)</li><li>Develop documentation and smoke tests for these components.</li><li>Start modifying the ChainSync Client for the LoP and LoR.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="support-1">Support<a class="hash-link" href="#support-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Help the Network team with diagnosing performance regression in block
production.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tech-debt">Tech debt<a class="hash-link" href="#tech-debt" title="Direct link to heading">‚Äã</a></h4><ul><li>Fix property-test failures concerning iterators (<a href="https://github.com/input-output-hk/ouroboros-network/issues/3999" target="_blank" rel="noopener noreferrer">#3999</a> and
<a href="https://github.com/input-output-hk/ouroboros-network/issues/4183" target="_blank" rel="noopener noreferrer">#4183</a>).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fostering-collaboration-1">Fostering collaboration<a class="hash-link" href="#fostering-collaboration-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Finish <a href="https://github.com/input-output-hk/ouroboros-network/issues/4145" target="_blank" rel="noopener noreferrer">mapping consensus</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="risks">Risks<a class="hash-link" href="#risks" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd-2">UTxO HD<a class="hash-link" href="#utxo-hd-2" title="Direct link to heading">‚Äã</a></h4><ul><li>Moving other parts of the ledger state to disk might require a major redesign
of the prototype. For instance, if it turns out that the epoch change rules
require access to the <em>full</em> ledger state. If this is the case, we might
accept this risk and do the redesign after the initial release of UTxO-HD.</li><li>Integration with downstream clients might require more work than we
anticipate.</li><li>Access to the benchmarking&#x27;s team time and resources.</li><li>Benchmarking results might show significant performance degradation, which
will require additional work if such performance degradation is not accepted
by other stakeholders.</li><li>The prototype&#x27;s performance might not be accepted by other stakeholders. Here
we need to clearly communicate that this is necessary to ensure that as the
blockchain size grows, the node can operate within reasonable memory
constraints.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/quarterly/tags/consensus">consensus</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/quarterly/2022-11-15-consensus">Consensus Quarterly Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-15T00:00:00.000Z" itemprop="datePublished">November 15, 2022</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/dnadales.png" alt="Damian Nadales"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/dnadales" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Damian Nadales</span></a></div><small class="avatar__subtitle" itemprop="description">Consensus Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consensus-quarterly-update">Consensus Quarterly Update<a class="hash-link" href="#consensus-quarterly-update" title="Direct link to heading">‚Äã</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2022-09---2022-11">2022-09 - 2022-11<a class="hash-link" href="#2022-09---2022-11" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-achievements">Main achievements<a class="hash-link" href="#main-achievements" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd">UTxO HD<a class="hash-link" href="#utxo-hd" title="Direct link to heading">‚Äã</a></h4><ul><li><p>As a consequence of the errors observed when running distributed mempool
benchmarks, we re-designed the UTxO HD mempool integration, which fixed these
errors and lead to a simpler and more maintainable design.</p></li><li><p>We focused on increasing test coverage for the UTxO-HD prototype. In
particular, we added property tests for:</p><ul><li>Backing store (work ongoing)</li><li>Era transitions</li></ul></li><li><p>The property tests we added uncovered several bugs, which is a great result
given the exponential increase in the cost of finding bugs as they are closer
to deployment.</p></li><li><p>One of the errors found by our tests required us to work on improvements in
the Haskell bindings for LMDB. This work is ongoing.</p></li><li><p>We started working on the mempool property tests that will exercise the new
code paths that UTxO HD introduced.</p></li><li><p>We developed, benchmarked and tested an implementation of sequences of
differences based on &quot;anti-diffs&quot;. Performance results of diff sequence
operations show that we achieved a speedup of about <code>4x</code> across several
scenarios. Note: this speedup is taking into account diff sequence operations
only, so the consensus-wide speedup is less than <code>4x</code>.</p></li><li><p>We integrated the &quot;anti-diff&quot; prototype into the UTxO HD feature branch.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis">Genesis<a class="hash-link" href="#genesis" title="Direct link to heading">‚Äã</a></h4><ul><li>We wrote a simulator that demonstrates soundness of an abstract implementation
of the new chain selection rule.</li><li>We elaborated a draft specification for the Genesis implementation (currently
awaiting feedback from other architects).</li><li>We elaborated a draft specification for the ChainSync Jumping optimization. In
particular, this includes a proof sketch that the latter preserves liveness
and safety in all cases.</li><li>With the Networking team, we co-designed the eclipse avoidance mechanism,
specifically its coherence with the Genesis implementation plan&#x27;s security
and its dependence on the new ChainSync Jumping optimization.</li><li>We implemented a prototype for ChainSync Jumping. Initial benchmarks showed a
performance degradation wrt the baseline. Our optimization attempts so far
have brought the performance closer to the baseline, but not yet to parity.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conway-era">Conway era<a class="hash-link" href="#conway-era" title="Direct link to heading">‚Äã</a></h4><ul><li>We did most of the heavy lifting required to integrate the Conway era into the
Consensus layer.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">‚Äã</a></h4><ul><li><p>We started working on enabling CI nightly tests, which revealed several test
failures due to thunks being found it data structures used by the ledger and
consensus. We made a lot of progress fixing those thunk errors, but some
errors still remain.</p></li><li><p>We elaborated a <code>db-analyser</code> benchmark for the ledger operations. This led us
to the identification of high processing time at epoch boundaries, and we
could not observe any performance degradation that can be attributed to era
changes.</p></li><li><p>We fixed a source of flakiness in the ChainDB QSM test.</p></li><li><p>We clarified a common source of confusion around VRF tie-breaking and
cross-era chain selection.</p></li><li><p>We fixed a bug in the maximum-allowed ledger major protocol version.</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fostering-collaboration">Fostering collaboration<a class="hash-link" href="#fostering-collaboration" title="Direct link to heading">‚Äã</a></h4><ul><li>We spent time making <code>cardano-updates</code> the central source of information for
the core teams stakeholders.</li><li>We went through the Galois gap analysis and extracted actionable points to
take on next.</li><li>Bart and Yogesh continued with their onboarding and stated making substantial
contributions to consensus.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="utxo-hd-1">UTxO HD<a class="hash-link" href="#utxo-hd-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Finish the mempool property tests.</li><li>Benchmark the latest version of the prototype.</li><li>Elaborate a document that describes new integration test scenarios and pass it
to the SDET team.</li><li>Bring query UTxO by address command performance on par with the baseline
version.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="genesis-1">Genesis<a class="hash-link" href="#genesis-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Receive and incorporate Duncan&#x27;s feedback on the first draft specification for
the Genesis implementation.</li><li>Begin prototyping the first genesis implementation, unless the first draft
needs major changes.</li><li>Draft a second revision of the Genesis report.</li><li>Review the second revision with a wider audience, which includes at least
Alexander Russell. That feedback will drive a third and hopefully final
revision.</li><li>Investigate how to mitigate the ~30% slowdown we have observed so far in the
ChainSync jumping prototype, and try to mitigate it. In particular, we might
need to optimize the existing BlockFetch logic.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tech-debt">Tech debt<a class="hash-link" href="#tech-debt" title="Direct link to heading">‚Äã</a></h4><ul><li>Enabling nightly CI tests.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fostering-collaboration-1">Fostering collaboration<a class="hash-link" href="#fostering-collaboration-1" title="Direct link to heading">‚Äã</a></h4><ul><li>Merge the tutorial document Galois wrote; requires CI integration.</li><li>Come up with our own documentation improvements, many of which were suggested
in the Galois gap analysis.</li><li>Try to hire a new team member.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/quarterly/tags/consensus">consensus</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/tags">Tags</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2026 Intersect, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3d19331e.js"></script>
<script src="/assets/js/main.7e74428f.js"></script>
</body>
</html>