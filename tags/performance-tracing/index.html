<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-updates">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">58 posts tagged with &quot;performance-tracing&quot; | Cardano Development Updates</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://updates.cardano.intersectmbo.org/tags/performance-tracing"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="58 posts tagged with &quot;performance-tracing&quot; | Cardano Development Updates"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://updates.cardano.intersectmbo.org/tags/performance-tracing"><link data-rh="true" rel="alternate" href="https://updates.cardano.intersectmbo.org/tags/performance-tracing" hreflang="en"><link data-rh="true" rel="alternate" href="https://updates.cardano.intersectmbo.org/tags/performance-tracing" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Cardano Updates Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Cardano Updates Feed Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="Cardano Updates Feed JSON Feed">



<link rel="alternate" type="application/rss+xml" href="/quarterly/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/quarterly/atom.xml" title="Cardano Development Updates Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/reports/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/reports/atom.xml" title="Cardano Development Updates Atom Feed">

<script src="https://plausible.io/js/script.js" defer="defer" data-domain="updates.cardano.intersectmbo.org"></script><link rel="stylesheet" href="/assets/css/styles.5c10ca85.css">
<link rel="preload" href="/assets/js/runtime~main.3d19331e.js" as="script">
<link rel="preload" href="/assets/js/main.7e74428f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cardano Updates</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="navbar__item navbar__link" href="/quarterly">Quarterly</a><a class="navbar__item navbar__link" href="/reports">Reports</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/tags">Topics</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/tags">All Topics</a></li><li><a class="dropdown__link" href="/tags/network">Network</a></li><li><a class="dropdown__link" href="/tags/consensus">Consensus</a></li><li><a class="dropdown__link" href="/tags/ledger">Ledger</a></li><li><a class="dropdown__link" href="/tags/hydra">Hydra</a></li><li><a class="dropdown__link" href="/tags/db-sync">DB Sync</a></li><li><a class="dropdown__link" href="/tags/cli-api">Node CLI &amp; API</a></li><li><a class="dropdown__link" href="/quarterly/tags/cli-api-quarterly">Node CLI &amp; API Quarterly</a></li><li><a class="dropdown__link" href="/tags/crypto">Crypto</a></li><li><a class="dropdown__link" href="/tags/goedel">Goedel</a></li><li><a class="dropdown__link" href="/tags/mithril">Mithril</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/tags/performance-tracing">Performance &amp; Tracing</a></li><li><a class="dropdown__link" href="/reports/tags/benchmarking-reports">Benchmarking Reports</a></li><li><a class="dropdown__link" href="/tags/incident">Incident Reports</a></li><li><a class="dropdown__link" href="/tags/security">Security Reports</a></li></ul></div><a class="navbar__item navbar__link" href="/archive">Archive</a><a href="https://updates.cardano.intersectmbo.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-03-26-hydra">Hydra Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-25-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-25-performance-and-tracing">Performance &amp; Tracing Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-18-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-16-network">Network Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-11-consensus">Consensus Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-11-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-10-network">Network Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-04-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-01-30-performance-and-tracing">Performance &amp; Tracing Update</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>58 posts tagged with &quot;performance-tracing&quot;</h1><a href="/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2026-02-25-performance-and-tracing">Performance &amp; Tracing Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2026-02-25T00:00:00.000Z" itemprop="datePublished">February 25, 2026</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mgmeier.png" alt="Michael Karg"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Michael Karg</span></a></div><small class="avatar__subtitle" itemprop="description">Performance and Tracing Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><ul><li><strong>Benchmarking</strong>: Release benchmarks for <code>10.5.4</code> and <code>10.6.2</code>; Parallel GC benchmarks.</li><li><strong>Development</strong>: Preparation of new <code>PlutusV3</code> baseline.</li><li><strong>Infrastructure</strong>: Performance cluster gets custom, isolated Nix cache - safe benchmarks for security-critical changes.</li><li><strong>Tracing</strong>: Improving robustness by forcing lazy values in controlled sections of code.</li><li><strong>Leios</strong>: LTL Trace Verifier completed, waiting integration.</li><li><strong>Node Diversity</strong>: Formal trace schema definition entering validation phase; Trace forwarding in native Rust entering testing.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-overview">Low level overview<a class="hash-link" href="#low-level-overview" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="benchmarking">Benchmarking<a class="hash-link" href="#benchmarking" title="Direct link to heading">​</a></h3><p>We&#x27;ve performed, analysed and published relase benchmarks for both Node versions <code>10.5.4</code> and <code>10.6.2</code>. We could determine both to be free of performance regressions. The <code>10.6.2</code> release contains the new &#x27;Defensive Mempool&#x27; feature, which
is therefore also covered by our benchmark. The <code>10.6.2</code> release has shown to be somewhat more efficient in its use of CPU time, but exhibited a slightly higher tendency to perform Major GC cycles.  </p><p>To that end, we&#x27;ve reopened an old PR which changes the default / recommended GC settings for the Node process to a parallel, load-balanced GC (<a href="https://github.com/IntersectMBO/cardano-node/pull/6222" target="_blank" rel="noopener noreferrer">cardano-node PR#6222</a>). The motivation is to update the current recommended settings (which are still tuned to GHC8.10) such
that the ocurrence of Major GC cycles is greatly reduced (as they may temporarily halt the Node process to complete). We found in our benchmark that, apart from being even slightly more efficient regarding CPU time, the occurrence of Major GCs could
be reduced by almost factor 30.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a class="hash-link" href="#development" title="Direct link to heading">​</a></h3><p>We&#x27;re performing an overhaul of the <code>plutus-scripts-bench</code> package, a library of benchmarkable Plutus scripts targeting various aspects of the Plutus interpreter, the respective cost model and the execution budgets. The aim is
to create up-to-date performance baselines by using exclusively <code>PlutusV3</code> scripts that have been built with a recent version of the compiler - thus factoring in potential performance improvements in generated code.
Currently, the PR <a href="https://github.com/IntersectMBO/cardano-node/pull/6440" target="_blank" rel="noopener noreferrer">cardano-node PR#6440</a> is work in progress.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure">Infrastructure<a class="hash-link" href="#infrastructure" title="Direct link to heading">​</a></h3><p>Up to now, a benchmarking deployment required the target commit to be a public item on GitHub; the <code>nix</code> build (or cache retrieval from our CI) would be decentralized, with each cluster instance creating the benchmarking artifact independently.
When there&#x27;s a requirement to benchmark security-critical changes in an isolated, opaque fashion, this approach would reach its limits promptly. Together with SRE, we devised a way to achieve just that: An artifact can be built from a local commit on one
cluster instance into its <code>nix</code> store, which in turn will serve as a substituter (i.e. cache) in a centralized manner for all other instances (<a href="https://github.com/IntersectMBO/cardano-node/pull/6450" target="_blank" rel="noopener noreferrer">cardano-node PR#6450</a>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracing">Tracing<a class="hash-link" href="#tracing" title="Direct link to heading">​</a></h3><p>The new tracing system highly encourages trace values to be lazy. Thus, the emitting thread has the lowest possible overhead when doing so - which is highly relevant when you&#x27;re on a hot code path. Furthermore, this overhead is assumed
to be a constant factor - regardless of whether those traces are consumed by any subscriber or not. We&#x27;re currently exploring an approach to increase robustness, guarding against shaky implementations of trace values themselves. The burden
of evaluating a lazy trace still remains with a subscriber, however, this is now decoupled from handing over the trace result (such as a log line, a metric, etc.). By forcing a lazy trace value in a controlled section of code, immediately prior
to handover, the system will reliably handle even blatant implementation errors in lazy traces.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="leios">Leios<a class="hash-link" href="#leios" title="Direct link to heading">​</a></h3><p>The Linear Temporal Logic (LTL) Trace Verifier <a href="https://github.com/jutaro/cardano-trace-ltl" target="_blank" rel="noopener noreferrer">Cardano Trace LTL</a> has reached production readiness. It is able to ingest multiple streams of trace evidence, basically multiple Node log files as they&#x27;re being produced, and
continuously evaluate a set of LTL propositions against them. While performant, real-time evaluation is a valuable thing to have, it required some of the LTL operators to be bounded to be able to operate in constant space over a long time.
We&#x27;ve discussed our fragment of LTL with Formal Methods to start building a collection of properties worth checking, and to ensure there&#x27;s provably no disjoint semantics introduced by the bounded operators.  </p><p>The service is currently being integrated with the existing tooling in the <code>cardano-node</code> project, and will form a regular part of Leios setups / deployments in the future.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-diversity">Node Diversity<a class="hash-link" href="#node-diversity" title="Direct link to heading">​</a></h3><p>We&#x27;ve reached basic viability of the comprehensive formal schema definition of all the Node&#x27;s existing trace messages. We&#x27;re building an automated verification suite that will ensure all definitions are fully compliant
with existing JSON schema, as well as the observables implemented in (and the trace messages logged by) the Haskell Node conform to the defined schema. Further manual refinement of types in the schema will be the next step; eventually,
this will serve as a basis to automatically derive parsers, and to render a human-readable reference documentation.    </p><p>The implementation of our trace / metrics forwarding mini-protocol in Rust has completed and is now in testing phase. After cleanup and merge, this allows Rust projects to emit Cardano-style structured traces directly, and forward them to a running
<code>cardano-tracer</code> for logging, processing and metrics exposition.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/performance-tracing">performance-tracing</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2026-01-30-performance-and-tracing">Performance &amp; Tracing Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2026-01-30T00:00:00.000Z" itemprop="datePublished">January 30, 2026</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mgmeier.png" alt="Michael Karg"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Michael Karg</span></a></div><small class="avatar__subtitle" itemprop="description">Performance and Tracing Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><ul><li><strong>Benchmarking</strong>: Updated <code>10.5</code> and <code>10.6</code> performance baselines; Local reproduction of LSM-trees benchmark isolating space leak; merged LSM-tree profiles.</li><li><strong>Development</strong>: HTTPS connections with <code>cardano-tracer</code>; <code>PromQL</code>-like query language and metrics timesieries for <code>cardano-tracer</code>.</li><li><strong>Infrastructure</strong>: Reporting pipeline switched to new typesetting tool; <code>10.5.x</code> backports to re-enable cluster benchmarks; extensive improvements to workbench&#x27;s profiling capabilites and <code>nix</code> API.</li><li><strong>Tracing</strong>: Shared traces between <code>cardano-node</code> and <code>dmq-node</code>; <code>cardano-submit-api</code> switched to new tracing; Small improvements to default configs.</li><li><strong>Node Diversity</strong>: Comprehensive formal schema definition for trace messages; Proof-of-concept: Trace forwarding in native Rust.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-overview">Low level overview<a class="hash-link" href="#low-level-overview" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="benchmarking">Benchmarking<a class="hash-link" href="#benchmarking" title="Direct link to heading">​</a></h3><p>We&#x27;ve re-established performance baselines for both the <code>10.5</code> and <code>10.6</code> branches of Node releases. When many small changes accumulate over time, it&#x27;s necessary to factor them into the baseline (unless they show regressions) - otherwise
one loeses the ability to efficiently localize underlying causes of performance metric changes.  </p><p>Last month&#x27;s cluster benchmark of LSM-trees pointed towards a space leak in the integration. To be certain, we successfully aimed to locally recreate network behaviour that was observed in the cluster. With this at hand, Consensus engineers
managed to localize it and create a potential fix - validation on the cluster still outstanding.  </p><p>In the meantime, the benchmarking profiles targeting on-disk LSM-trees have been solidified, merged to <code>master</code> and eternalized in our encyclopedia of benchmarking profiles <code>cardano-profile</code>. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a class="hash-link" href="#development" title="Direct link to heading">​</a></h3><p>The trace consumer and processor service <code>cardano-tracer</code> is currently being upgraded with optionally HTTPS enabled connections. For scraping or browsing Node metrics, in case the connection crosses public networks, it&#x27;s highly recommended to encrypt traffic. So far
this has to be achieved by placing <code>cardano-tracer</code> behind a webserver proxy which speaks HTTPS; with the planned change <code>cardano-tracer</code> can be configured to do this directly when provided with the relevant certificates.  </p><p>The work on aggregating timeseries of Node metrics and evaluating <code>PromQL</code>-like queries over them is almost complete. Currently, it&#x27;s a standalone application; we&#x27;re planning to integrate it into <code>cardano-tracer</code> as a next step. We&#x27;ve had SRE review
the up to now unnamed query language for conciseness and utility - a sort of UAT if you will. This building block forms the foundation for alerts or monitoring dashboard data queries, which in the future can be handled directly by <code>cardano-tracer</code>, if so desired.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure">Infrastructure<a class="hash-link" href="#infrastructure" title="Direct link to heading">​</a></h3><p>The integration of the <a href="https://typst.app/docs" target="_blank" rel="noopener noreferrer">Typst</a> typesetting document compiler into our reporting pipeline is completed and merged to <code>master</code> in <a href="https://github.com/IntersectMBO/cardano-node/pull/6418" target="_blank" rel="noopener noreferrer">cardano-node PR#6418</a>. Not only does that enable richer document features for the future; it also compiles
much faster than the previos Emacs Org mode / LaTeX based pipeline - and produces smaller and more accessible PDF files. The PR also drops a <code>nix</code> flake input required by the previous pipeline, which should result in smaller and faster workbench
builds both locally and in CI - and de-risk future <code>nixpkgs</code> bumps.  </p><p>We performed some necessary backports from <code>master</code> to re-enable the <code>release/10.5.x</code> branch for cluster benchmarking. As cluster maintenance has moved on and deviated over the months, we&#x27;re now ready to swiftly benchmark a potential new <code>10.5</code> patch
release, should it see the light of day (<a href="https://github.com/IntersectMBO/cardano-node/pull/6421" target="_blank" rel="noopener noreferrer">cardano-node PR#6421</a>).  </p><p>We also merged a large PR (<a href="https://github.com/IntersectMBO/cardano-node/pull/6380" target="_blank" rel="noopener noreferrer">cardano-node PR#6380</a>) that brings many improvements to the performance workbench. We reworked the configuration of profiled builds (where the Haskell runtime itself profiles execution). There
is now full support for info-table profiling, and much more flexibility in configuring the runtime to write out an eventlog. Our automation now grants a long enough grace period to write out all profile data before Node processes are terminated.
The PR also cleaned up the workbench&#x27;s <code>nix</code> API, leading to more straightforward dependency resolution, a cleaner separation of concerns, removal of dead code, and an improved hit/miss ratio for cached binaries.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracing">Tracing<a class="hash-link" href="#tracing" title="Direct link to heading">​</a></h3><p>Establishing <code>trace-dipatcher</code> (the Node&#x27;s new tracing system) as the default for <code>dmq-node</code> is nearly complete. We&#x27;re currently performing a large refactoring with the goal to share code defining trace rendering between <code>cardano-node</code> and <code>dmq-node</code>;
they do use the same <code>ouroboros-network</code> components after all. This will avoid redundant implementation, and ensure the same traces are emitted the same way by either application.</p><p>We&#x27;ve ported a separate package in the Node project, <code>cardano-submit-api</code>, to use <code>trace-dispatcher</code> for logging and metrics - with nearly no changes to messages and metrics at the surface: <a href="https://github.com/IntersectMBO/cardano-node/pull/6326" target="_blank" rel="noopener noreferrer">cardano-node PR#6326</a>. This removes the legacy tracing dependency
from the Submit API - a requirement to eventually retire the system from the Node as well. However, as legacy tracing is no longer supported, users are advised to adjust their configs accordingly starting with <code>cardano-submit-api-10.2</code>.  </p><p>We&#x27;ve also merged a small PR (<a href="https://github.com/IntersectMBO/cardano-node/pull/6409" target="_blank" rel="noopener noreferrer">cardano-node PR#6409</a>) that contains improvements to the new tracing system for both users and implementors. Most prominently, we&#x27;ve adjusted default values and configs to prevent accidental misconfiguration
of the forwarding backend - which should make for a better user experience and adoption.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-diversity">Node Diversity<a class="hash-link" href="#node-diversity" title="Direct link to heading">​</a></h3><p>Additionally, we&#x27;ve been working on building a comprehensive formal schema definition of all the Node&#x27;s existing trace messages. The Haskell Node being the current reference implementation, it is a logical starting point. The goal is
to provide a fully compliant JSON schema so any tooling, or verification suite, can automatically derive parsers from it. Furthermore, it should be renderable into human-readable formal documentation. We believe this to be crucial
to enable unified trace semantics across diverse Node implementations; right now, we&#x27;re still evaluating the most effective approach to maintain this over a long time, and guarantee consistency with the implementation.  </p><p>Last but not least, we&#x27;re building a proof-of-concept of how to implement our forwarding mini-protocol in Rust. This would allow for all Rust-based projects to emit Cardano-style structured traces directly, and forward them to a running
<code>cardano-tracer</code> for logging, processing and metrics exposition.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/performance-tracing">performance-tracing</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2025-12-22-performance-and-tracing">Performance &amp; Tracing Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-12-22T00:00:00.000Z" itemprop="datePublished">December 22, 2025</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mgmeier.png" alt="Michael Karg"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Michael Karg</span></a></div><small class="avatar__subtitle" itemprop="description">Performance and Tracing Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><ul><li><strong>Benchmarking</strong>: <code>10.6</code> benchmarks confirming heap size fix; First LSM-trees benchmarks.</li><li><strong>Infrastructure</strong>: New typesetting tool for reporting pipeline.</li><li><strong>Tracing</strong>: Increased robustness of the <code>PrometheusSimple</code> metrics backend; previous quality-of-life improvements released.</li><li><strong>Leios</strong>: Linear temporal logic based trace verifier demo for Leios.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-overview">Low level overview<a class="hash-link" href="#low-level-overview" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="benchmarking">Benchmarking<a class="hash-link" href="#benchmarking" title="Direct link to heading">​</a></h3><p>The underlying cause for increase in RAM usage on Node <code>10.6.0</code> has been indentified and addressed. While heap size increase is still present outside of our benchmarking environment, its extent there is negligible. We&#x27;ve re-run cluster benchmarks to confirm the fix is successful.  </p><p>Additionally, we&#x27;ve performed and analyzed benchmarks on several LSM-trees integration branches. This feature has as of now not been released in some Node version, so it is not yet fully configurable. The benchmarks have to be understood as a very
early performance assessment. We&#x27;ve performed benchmarks for both in-memory and on-disk backing stores. Especially for the on-disk benchmarks, we could observe RAM usage decreasing clearly, with only small increases in CPU usage. While there is some
extra cost to block adoption, cluster diffusion metrics still remain almost identical to the in-memory benchmarks - mostly due to header pipelining. As we didn&#x27;t artificially constrain memory, the benchmarks are illustrative of LSM-trees behaviour
when there&#x27;s no pressure from the garbage collector: Given that, will on-disk LSM-trees use caching / buffering efficiently, or will it perform redundant disk I/O? The answer is - the former.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure">Infrastructure<a class="hash-link" href="#infrastructure" title="Direct link to heading">​</a></h3><p>For convenient creation of reporting documents, we&#x27;re integrating a new typesetting tool: The brilliant, open-source <a href="https://typst.app/docs" target="_blank" rel="noopener noreferrer">Typst</a> project promises fully typesettable and scriptable documents, while maintaining a syntax that is (almost) as easy to grasp
as Markdown. Typst extensions even render our gnuplots inline - and fast. Easily scriptable styling enables us to deliver an often requested feature: Colorizing individual result metrics based on how risky (or beneficial) a deviation from the
baseline is deemed to be. Up to now, our reporting pipeline depended on Emacs Org mode and a medium-sized LaTeX distro as part of the Performance Workbench; we might be able to drop these heavy dependencies
in favor of something more modern soon.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracing">Tracing<a class="hash-link" href="#tracing" title="Direct link to heading">​</a></h3><p>The Node&#x27;s internal <code>PrometheusSimple</code> backend to expose metrics has received several robustness improvements. All those aim to mitigate factors in the host environment which can contribute to the backend becoming unreachable. It will now reap dangling socket
connections more eagerly, preventing false positives in DoS protection. Furthermore, there now is a restart/retry wrapper in place, should the backend fail unexpectedly. All start and stop events are traced in the logs, exposing a potential error cause.
Merged in <a href="https://github.com/IntersectMBO/cardano-node/pull/6396" target="_blank" rel="noopener noreferrer">cardano-node PR#6396</a>.</p><p>The previous batch of quality-of-life improvements in <a href="https://github.com/IntersectMBO/cardano-node/pull/6377" target="_blank" rel="noopener noreferrer">cardano-node PR#6377</a> has also been merged and released. It includes Prometheus HTTP service discovery for <code>cardano-tracer</code>, more robust recovering and tracing of forwarding connection interruptions as well as
stability improvements for engineers implementing tracers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="leios">Leios<a class="hash-link" href="#leios" title="Direct link to heading">​</a></h3><p>Our conformance testing framework which evaluates linear temporal logic propositions against trace output has matured. It has seen some performance and usability improvements, for instance a helpful
human-readable output as to what minimal sequence of traces caused some proposition to be false - and the ability to consume traces from an arbitrary number of nodes instead of only one. We&#x27;ve already created several propositions
targeting the well-behavedness of the block forging loop; diffusion related propositions for Praos and eventually Leios are logical next steps.  </p><p>Even though this framework was built with Node Diversity in mind, we could showcase it at this month&#x27;s Leios event, and demonstrate what it could deliver for this project as well - and we were very satisfied with the reception it got.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance--tracing-wishes-you-happy-holidays">Performance &amp; Tracing wishes you Happy Holidays...<a class="hash-link" href="#performance--tracing-wishes-you-happy-holidays" title="Direct link to heading">​</a></h2><p>...and a Joyful New Year!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/performance-tracing">performance-tracing</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2025-11-25-performance-and-tracing">Performance &amp; Tracing Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-11-25T00:00:00.000Z" itemprop="datePublished">November 25, 2025</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mgmeier.png" alt="Michael Karg"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Michael Karg</span></a></div><small class="avatar__subtitle" itemprop="description">Performance and Tracing Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><ul><li><strong>Benchmarking</strong>: Node 10.6 (pre-)release benchmarks; compiler benchmarks: GHC9.12.</li><li><strong>Development</strong>: Ongoing work on queryable timeseries prototype and message-based <code>cardano-tracer</code> library API.</li><li><strong>Infrastructure</strong>: Optimitazation of trace forwarding.</li><li><strong>Tracing</strong>: New quality-of-life features like Prometheus service discovery; significant tech debt removal.</li><li><strong>Leios</strong>: Process specification for Leios conformance and performance testing / benchmarks; simulation result re-evaluation.</li><li><strong>Node diversity</strong>: New framework for system conformance testing based on linear temporal logic.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-overview">Low level overview<a class="hash-link" href="#low-level-overview" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="benchmarking">Benchmarking<a class="hash-link" href="#benchmarking" title="Direct link to heading">​</a></h3><p>We&#x27;ve performed and analysed (pre-)release benchmarks for Node <code>10.6.0</code>. Our benchmarks exhibited a clear increase in RAM usage (~15%) for a block producer. We&#x27;re currently investigating the underlying cause, and whether it&#x27;s reproducible outside of the benchmark,
without the constant, artificial stress we subject the system to. The published final results can be found in the <a href="https://updates.cardano.intersectmbo.org/reports/2025-11-performance-10.6.0-pre" target="_blank" rel="noopener noreferrer">Performance report for 10.6.0-pre</a>.</p><p>Furthermore, we&#x27;ve performed compiler benchmarks for the Node built with <code>GHC9.12</code> instead of our current default <code>GHC9.6</code>. After getting both the <code>10.5</code> and the <code>10.6</code> branches to build with the new version, we performed cluster benchmarks for both, resulting
in a cross-comparison to their respective baselines. We could determine that the <code>GHC9.12</code> build is on par with the <code>GHC9.6</code> one for Node 10.5, and even slightly better for Node <code>10.6</code> as far as block production, diffusion and adoption metrics are concerned. However, it exhibits unexplained increases in CPU time used (~9%) and Allocations + Minor GCs (~6%). We also found that by disabling a particular optimization on <code>GHC9.12</code> called &#x27;speculative evaluation of dictionary functions&#x27;, the increase in CPU time is roughly halved. So while the code base seems to be ready overall to switch to the more recent compiler version, that increase, though not dramatic, is still being investigated.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a class="hash-link" href="#development" title="Direct link to heading">​</a></h3><p>Our prototype for aggregating timeseries of Node metrics, and evaluating <code>PromQL</code>-like queries on them, has made significant progress. The query language is nearly complete, and is evaluated with reasonable speed. Our current work focuses on an efficient
in-memory representation of timeseries - before considering any on-disk or database backed solution. To that end, we&#x27;ve created a microbenchmark tracking space usage, and will use real-life scraped metrics data from nodes deployed and monitored by SRE.  </p><p>The clean separation of <code>cardano-tracer</code> into a library and an application part has entered testing. As it is built for highly concurrent operations, we chose a message-passing API where messages are always typed, and guaranteed to be consumed in the
order they were emitted. Custom applications will be able to implement handlers in a composable manner that react to certain message types (or values); at the same time, they can emit messages that won&#x27;t interfere with the library&#x27;s internal messaging - which is assured by Haskell&#x27;s type system.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure">Infrastructure<a class="hash-link" href="#infrastructure" title="Direct link to heading">​</a></h3><p>We&#x27;ve simplified the <code>trace-forward</code> implementation (a non-breaking change). When forwarding traces, the host application buffers those objects in a bounded queue until they&#x27;re requested. The implementation used to switch between queue sizes based on
congestion, and to mitigate short, temporary service interruptions. After taking a look into the specifics of the queue implementation (in a dependency), we found that there&#x27;s no overhead for the unused capacity of any queue - meaning switching the queue size
to the shorter variant does not yield any advantage. We were able to simplify the implementation based on that insight - which also turned out to be an optimization. Merged: <a href="https://github.com/IntersectMBO/cardano-node/pull/6361" target="_blank" rel="noopener noreferrer">cardano-node PR#6361</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracing">Tracing<a class="hash-link" href="#tracing" title="Direct link to heading">​</a></h3><p>The new tracing system is now the default since Node 10.6 (pre-)release. Based on SRE&#x27;s internal deployments and feedback, we&#x27;ve been adding several quality-of-life features as well as addressing some tech debt, as to enhance the new system&#x27;s user experience.
This includes a Prometheus HTTP service discovery feature for <code>cardano-tracer</code>, which allows for dynamically registering and scraping connected nodes, a CBOR formatting for trace messages which can be used to implement a binlog in the future (for space efficiency),
and a basic Haskell type with parser instances for machine-readable logs (JSON or CBOR), which greatly simplifies building any tooling that consumes trace output / log files.  </p><p>Additionally, there are many small changes that improve robustness, or code quality; such as safe garbage collection of threaded writers, simplification of the <code>LogFormatting</code> typeclass which is an interface of how traces can be rendered, properly tracing
forwarding service interruptions, and fixing delay increments in the retry policy for re-establishing a forwarding connection.  </p><p>The correspoding <a href="https://github.com/IntersectMBO/cardano-node/pull/6377" target="_blank" rel="noopener noreferrer">cardano-node PR#6377</a> is currently in draft state.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="leios">Leios<a class="hash-link" href="#leios" title="Direct link to heading">​</a></h3><p>We&#x27;re finalizing the Leios performance testing plan. This substantiates our approach based on the impact analysis, and formulates concrete steps regarding formal specification of system traces, generalisation of how benchmarking workloads are defined declaratively (and generated), taking advantage of common cases in performance and conformance testing (reducing the necessity for domain-specific tooling), and setting up dedicated microbenchmarks for key components (like e.g. crypto) which are designed to provide comparability over long time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-diversity">Node diversity<a class="hash-link" href="#node-diversity" title="Direct link to heading">​</a></h3><p>For conformance testing across diverse node implementations, we&#x27;ve designed a framework based on linear temporal logic (LTL). This allows for system or protocol properties to be expressed as logical propositions; it does not require
any executable specification or similar, and is thus language independent. Evaluation of LTL tends to be very fast and can potentially scale up to routine verifications as part of CI. Even though Haskell was chosen as a language for the project,
it can consume trace evidence from Cardano implementations in any language.  </p><p>The project <a href="https://github.com/jutaro/cardano-trace-ltl" target="_blank" rel="noopener noreferrer">Cardano Trace LTL</a> is still in prototype stage; it&#x27;s able to verify a few very basic Praos properties, expressed as LTL propositions, based on our benchmarking environment&#x27;s trace evidence.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/performance-tracing">performance-tracing</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2025-10-27-performance-and-tracing">Performance &amp; Tracing Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-10-27T00:00:00.000Z" itemprop="datePublished">October 27, 2025</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mgmeier.png" alt="Michael Karg"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mgmeier" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Michael Karg</span></a></div><small class="avatar__subtitle" itemprop="description">Performance and Tracing Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><ul><li><strong>Benchmarking</strong>: Various maintenance to prepare for upcoming Node 10.6 changes; metrics migration guide for SPOs.</li><li><strong>Development</strong>: Prototyping a <code>PromQL</code>-based alert system for new tracing.</li><li><strong>Infrastructure</strong>: Located a space leak that was interfering with on-disk benchmarks.</li><li><strong>Tracing</strong>: Equipping <code>dmq-node</code> with the new tracing system; <code>cardano-tracer</code> library and API ongoing.</li><li><strong>Leios</strong>: Impact analysis and tech design; preparation for simulations hand-off.</li><li><strong>Hydra</strong>: Kick-off for development of system integration level benchmarks.</li><li><strong>Node diversity</strong>: Trace semantics specification ongoing; example test case ready for merging.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-overview">Low level overview<a class="hash-link" href="#low-level-overview" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="benchmarking">Benchmarking<a class="hash-link" href="#benchmarking" title="Direct link to heading">​</a></h3><p>We&#x27;ve performed various maintenance tasks to accomodate our automation to several breaking changes that come with Node 10.6. There are new constraints on Plutus cost models in genesis files which make it more difficult
to set up a customized testnet, like our benchmarking cluster. Furthermore, we&#x27;ve been assisting with integrating and debugging the upcoming release&#x27;s components, such as tx validation in the <code>cardano-api</code>, or the implementation
of new trace messages the Node emits.  </p><p>As the new tracing system will be the default on Node 10.6, we&#x27;ve created a tool which, given a side-by-side listing of metrics names from both systems, will automatically generate an exhaustive migration guide for SPOs. As the metrics names have changed slightly,
a migration for existing monitoring setups is required as a one-off effort. The migration guide will be published on the <a href="https://developers.cardano.org/docs/operate-a-stake-pool" target="_blank" rel="noopener noreferrer">Cardano Developer Portal</a>.  </p><p>Whilst the legacy tracing system is still fully operational in Node 10.6, the release marks the begin of its deprecation period - giving SPOs sufficient time to adjust their setups.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a class="hash-link" href="#development" title="Direct link to heading">​</a></h3><p>While <code>cardano-tracer</code> logs forwarded trace messages according to detailed configs, and exposes forwarded metrics, it does not provide any built-in functionality for monitoring and alerts. The experimental <code>RTView</code> component, which still can be built for <code>cardano-tracer</code> and remains fully functional, was an attempt to provide dashboards and alerts out of the box. However, due to its restricted design and low interoperability with existing monitoring standards, it has been discontinued.  </p><p>Currently, we&#x27;re taking another stab at this: We&#x27;re building a prototype that creates timeseries directly from observed metrics, and is able to parse and evaluate <a href="https://prometheus.io/docs/prometheus/latest/querying/basics" target="_blank" rel="noopener noreferrer">PromQL</a> queries referring to them. Based on that prototype, we&#x27;ll assess resource usage and feasibility of fully building
that feature into <code>cardano-tracer</code>. As most monitoring alerts can be (and are) defined as conditions on <code>PromQL</code> query results, and <code>PromQL</code> is an established industry standard, we see a low barrier for adaptation. Furthermore, if built sufficiently modular, it would eliminate the need to operate additional 3rd party services for scraping metrics and monitoring for alert conditions - at least in some usage scenarios.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure">Infrastructure<a class="hash-link" href="#infrastructure" title="Direct link to heading">​</a></h3><p>With help and support from the Consensus team (Gracias, Javier!), we were able to locate a space leak that affected on-disk benchmarks. While the current on-disk benchmarks are representative, the space leak prevented us from scaling memory limits for the Node process with finer granularity.
This will get merged post 10.6 release, and will be of much use when we do comparative benchmarks of the LMDB and the new <code>lsm-trees</code> on-disk backing stores.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracing">Tracing<a class="hash-link" href="#tracing" title="Direct link to heading">​</a></h3><p>We&#x27;ve been working on equipping the Network team&#x27;s new <code>dmq-node</code> service with our new tracing system, <code>trace-dispatcher</code> - still a work in progress. Currently, the <code>dmq-node</code> uses plain contravariant tracing. Having a configurable system, with an API abstraction to define metadata and message serializations as well as process metrics, is a necessary step towards production-ready tracing. The added benefit of using <code>trace-dispatcher</code> is reusability of definitions already implemented in <code>cardano-node</code>, and a uniform way of how
<code>cardano-node</code> and <code>dmq-node</code> are configured, as well as how the expose trace evidence and metrics.  </p><p>The work on <code>cardano-tracer</code> as a library, with principled API and intra-process communications, is ongoing. Implementation is almost complete, and will enter testing phase soon.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="leios">Leios<a class="hash-link" href="#leios" title="Direct link to heading">​</a></h3><p>We&#x27;ve contributed to <a href="https://github.com/input-output-hk/ouroboros-leios/blob/main/docs/ImpactAnalysis.md" target="_blank" rel="noopener noreferrer">Leios Impact Analysis</a>. The Performance &amp; Tracing section summarizes how implementing, and eventually benchmarking Leios will impact various aspects of our approach. This spans from adding new Leios-specific observables into component code, to deriving
submission workloads suitable for Leios, to finding a scaling approach to be able to correlate performance observations to exact changes in Leios protocol parameters.  </p><p>Additionally, we&#x27;re currently working on the Leios technical design and implementation plan, which lays out our approach and derives some very high-level steps on how to realize it, based on the impact analysis.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hydra">Hydra<a class="hash-link" href="#hydra" title="Direct link to heading">​</a></h3><p>We&#x27;ve kicked off a collaboration with the Hydra team. The goal is to build system integration level benchmarks for Hydra, which can target system pressure points, and which are able to scale operations in various directions - much akin to what we&#x27;re doing for
the Cardano node. Eventually, those benchmarks should provide more than just immediate feedback for Hydra engineers; they should be able to yield realistic figures of what to expect from operating one (or more) Hydra heads, and what the resource requirements are to achieve that.
Currently, we&#x27;re familiarizing ourselves with the system and its built-in observability to assess if it meets the requirements for the benchmarks we have in mind.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-diversity">Node diversity<a class="hash-link" href="#node-diversity" title="Direct link to heading">​</a></h3><p>The work on (multi-)node conformance testing is ongoing. We&#x27;re in the process of creating a specification document for semantics of existing Node traces. While a few of them might be unique to the Haskell implementation, the majority documents how
Cardano itself runs and behaves; those traces can implemented accordingly across diverse Node projects.  </p><p>Our own demonstration test case for conformance testing is fully implemented and ready to be merged after the Node 10.6 release. It validates a metric exposed by a node wrt. trace evidence in its logs and internal events the metric is based on; see <a href="https://github.com/IntersectMBO/cardano-node/pull/6322" target="_blank" rel="noopener noreferrer">cardano-node PR#6322</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/performance-tracing">performance-tracing</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/tags/performance-tracing/page/2"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/tags">Tags</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Intersect, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3d19331e.js"></script>
<script src="/assets/js/main.7e74428f.js"></script>
</body>
</html>