<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-updates">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">80 posts tagged with &quot;ledger&quot; | Cardano Development Updates</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://updates.cardano.intersectmbo.org/tags/ledger/page/15"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="80 posts tagged with &quot;ledger&quot; | Cardano Development Updates"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://updates.cardano.intersectmbo.org/tags/ledger/page/15"><link data-rh="true" rel="alternate" href="https://updates.cardano.intersectmbo.org/tags/ledger/page/15" hreflang="en"><link data-rh="true" rel="alternate" href="https://updates.cardano.intersectmbo.org/tags/ledger/page/15" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Cardano Updates Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Cardano Updates Feed Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="Cardano Updates Feed JSON Feed">



<link rel="alternate" type="application/rss+xml" href="/quarterly/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/quarterly/atom.xml" title="Cardano Development Updates Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/reports/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/reports/atom.xml" title="Cardano Development Updates Atom Feed">

<script src="https://plausible.io/js/script.js" defer="defer" data-domain="updates.cardano.intersectmbo.org"></script><link rel="stylesheet" href="/assets/css/styles.5c10ca85.css">
<link rel="preload" href="/assets/js/runtime~main.3d19331e.js" as="script">
<link rel="preload" href="/assets/js/main.7e74428f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cardano Updates</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="navbar__item navbar__link" href="/quarterly">Quarterly</a><a class="navbar__item navbar__link" href="/reports">Reports</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/tags">Topics</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/tags">All Topics</a></li><li><a class="dropdown__link" href="/tags/network">Network</a></li><li><a class="dropdown__link" href="/tags/consensus">Consensus</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/tags/ledger">Ledger</a></li><li><a class="dropdown__link" href="/tags/hydra">Hydra</a></li><li><a class="dropdown__link" href="/tags/db-sync">DB Sync</a></li><li><a class="dropdown__link" href="/tags/cli-api">Node CLI &amp; API</a></li><li><a class="dropdown__link" href="/quarterly/tags/cli-api-quarterly">Node CLI &amp; API Quarterly</a></li><li><a class="dropdown__link" href="/tags/crypto">Crypto</a></li><li><a class="dropdown__link" href="/tags/goedel">Goedel</a></li><li><a class="dropdown__link" href="/tags/mithril">Mithril</a></li><li><a class="dropdown__link" href="/tags/performance-tracing">Performance &amp; Tracing</a></li><li><a class="dropdown__link" href="/reports/tags/benchmarking-reports">Benchmarking Reports</a></li><li><a class="dropdown__link" href="/tags/incident">Incident Reports</a></li><li><a class="dropdown__link" href="/tags/security">Security Reports</a></li></ul></div><a class="navbar__item navbar__link" href="/archive">Archive</a><a href="https://updates.cardano.intersectmbo.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-03-26-hydra">Hydra Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-25-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-25-performance-and-tracing">Performance &amp; Tracing Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-18-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-16-network">Network Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-11-consensus">Consensus Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-11-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-10-network">Network Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-02-04-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2026-01-30-performance-and-tracing">Performance &amp; Tracing Update</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>80 posts tagged with &quot;ledger&quot;</h1><a href="/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2023-01-19-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-01-19T00:00:00.000Z" itemprop="datePublished">January 19, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>The ledger team completed some preliminary ground work in preparation for CIP-1694
(restructuring the ledger state),
fixed the PDF hosting problem (mostly the formal specs),
built out more of the new user-friendly ledger API,
finished a proof of concept for constraint-based generators for property tests
(with the hopes of being able to replace our trace generators one day),
and addressed technical debt.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower-level-summary">Lower level summary<a class="hash-link" href="#lower-level-summary" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="restructuring-the-ledger-state">Restructuring the ledger state<a class="hash-link" href="#restructuring-the-ledger-state" title="Direct link to heading">​</a></h3><p>The existing governance structures will be replace in the conway ledger era,
as described in CIP-1694.
In particular, the ledger rules will be restructured as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   BBODY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |-------------------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    v                               v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   TICK                            LEDGERS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |                               |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |---------|                     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    v         v                     v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   RUPD     ~NEWEPOCH~            ~LEDGER~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              |                     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              |----------|          |--------|-------------------|-----------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              v          v                   v                   v           v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ~EPOCH~     +ENACTMENT+         DELEGS              UTXOW       +TALLY+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              |                              |                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              |---------|------------|       v                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              v         v            v      DELPL                v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             SNAP      POOLREAP    -UPEC-    |                  UTXO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             |--------|          |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             v        v          v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            POOL     DELEG     ~UTXOS~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-..- Removed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+..+ Added</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">~..~ Modified</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Moreover, the ledger state will also be restructured in accordance with the new rules.
In the conway code, we have now removed UPEC, added TALLY, and stubbed ENACTMENT.
We have also adapted all the data structures in the ledger state.</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3216" target="_blank" rel="noopener noreferrer">pull-3216</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pdf-hosting">PDF hosting<a class="hash-link" href="#pdf-hosting" title="Direct link to heading">​</a></h3><p>We now build all of our PDFs using a GitHub action which is triggered by pushing a tag
with a specific form, <code>cardano-ledger-spec-YYYY-MM-DD</code>.
The action creates a GitHub release containing the PDFs.
The links in the main ledger README now point to the PDFs in the latest release.</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3245" target="_blank" rel="noopener noreferrer">pull-3245</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3260" target="_blank" rel="noopener noreferrer">pull-3260</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="powering-the-new-ledger-api">Powering the new ledger API<a class="hash-link" href="#powering-the-new-ledger-api" title="Direct link to heading">​</a></h3><p>We have now removed all the <code>HasField</code> instances from the protocol parameter data types,
and replaced them with lenses.
This is probably the last major restructuring that the ledger team will do on the code base
for the API for a while
(the Plutus tools team will be working on it next, see <a href="https://github.com/input-output-hk/cardano-ledger/projects/5" target="_blank" rel="noopener noreferrer">here</a>).
We also added a new helpful function <code>ensureMinCoinTxOut</code>.</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3242" target="_blank" rel="noopener noreferrer">pull-3242</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3248" target="_blank" rel="noopener noreferrer">pull-3248</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-based-generators">Constraint-based generators<a class="hash-link" href="#constraint-based-generators" title="Direct link to heading">​</a></h3><p>Our largest scale property tests generate an initial ledger state and a long sequence of valid blocks
which span several epochs, mimicking a real network.
These tests are, in theory, excellent for checking properties.
They are, however, very difficult to maintain and are not as random as we would like
(a lot of bias has to be introduced to keep the ledger state in enough order to keep generating blocks).</p><p>We would like to switch to tests which instead generate a random ledger state representative
of not just an initial state, generate a single random valid block, and then test our properties.
The hope is that these will be much more random and easier to maintain.</p><p>We have finished a proof of concept are encouraged that this approach could work!</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3219" target="_blank" rel="noopener noreferrer">pull-3219</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">​</a></h3><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3244" target="_blank" rel="noopener noreferrer">pull-3244</a> massive CI speedup</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3249" target="_blank" rel="noopener noreferrer">pull-3249</a> better types for fees in the protocol parameters</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3264" target="_blank" rel="noopener noreferrer">pull-3264</a> move our annotator code to the <code>cardano-ledger-binary</code> package where it belongs</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3239" target="_blank" rel="noopener noreferrer">pull-3239</a> move the <code>Wdrls</code> type to the <code>Core</code> module.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2023-01-05-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-01-05T00:00:00.000Z" itemprop="datePublished">January 5, 2023</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>The ledger team finished up the remaining work for tracking individual depots,
built out the new Conway era transaction body (in line with CIP-1694),
greatly reduce some problematically large calculations on the epoch boundary,
and addressed technical debt.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower-level-summary">Lower level summary<a class="hash-link" href="#lower-level-summary" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="finishing-the-deposit-tracking">Finishing the deposit tracking<a class="hash-link" href="#finishing-the-deposit-tracking" title="Direct link to heading">​</a></h3><p>The initial work on the individual deposit tracking project focused only on correctness.
As this is a large data structure
(since its size is linear with respect to the number of registered stake credentials),
it is very important that we also reduce the memory overhead as much as possible.
Fortunately, we were able to add very little overhead for the deposits by using existing
efficient data structures. The extra tracking now only incurs one word (8 bytes)
per registered stake credential.</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3195" target="_blank" rel="noopener noreferrer">pull-3195</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3202" target="_blank" rel="noopener noreferrer">pull-3202</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3217" target="_blank" rel="noopener noreferrer">pull-3217</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-conway-era-transaction">New Conway era transaction<a class="hash-link" href="#new-conway-era-transaction" title="Direct link to heading">​</a></h3><p>We implemented the Conway era transaction body, which is in line with CIP-1694.
Note that the Conway era implements, losing speaking, the parts of CIP-1694 that are not
related to the liquid democracy (the &quot;DReps&quot;).
The new transaction body adds the new governance actions and votes,
while also deprecating the old governance structures
(i.e. the old protocol parameter updates and MIR certificates).</p><p>We also now have the wire specification (CDDL file) and serialization code in place.
The wire specification is still subject to change while we work on the Conway era,
but it is now usable and has proper testing support
(so that, for example, the serialization round-trips, etc).</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3176" target="_blank" rel="noopener noreferrer">pull-3176</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3226" target="_blank" rel="noopener noreferrer">pull-3226</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimizing-the-tickf-transition">Optimizing the <code>TICKF</code> transition<a class="hash-link" href="#optimizing-the-tickf-transition" title="Direct link to heading">​</a></h3><p>Every since the release of the Shelley era, we have been working to reduce the computational load
placed on the node by the ledger at the epoch boundary.
While still not perfect, we believe that we have removed one of the final problematically long
epoch boundary computations that exacerbate situations like
<a href="https://github.com/input-output-hk/cardano-node/issues/4421" target="_blank" rel="noopener noreferrer">this</a>.
In particular, the problem involved the way in which the consensus layer obtains a view of the
ledger for the purposes of checking the leadership schedule in a new epoch.
We implemented a stopgap measure which now only incurs a single multi-second cost once per epoch
instead of potentially several multi-second costs while the networks waits for the first block
of a new epoch to be minted.</p><p>See:</p><ul><li>An <a href="https://github.com/input-output-hk/cardano-ledger/blob/ea48d4815946c4f35239eb41815fe06cd6ffec2e/docs/adr/2022-12-12_007-optimize-ledger-view.md" target="_blank" rel="noopener noreferrer">ADR</a> about the decision.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3209" target="_blank" rel="noopener noreferrer">pull-3209</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">​</a></h3><p>We closed the year out with a lot of reduction to the technical debt!</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="improved-ledger-event">Improved ledger event<a class="hash-link" href="#improved-ledger-event" title="Direct link to heading">​</a></h4><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3212" target="_blank" rel="noopener noreferrer">pull-3212</a> - The ledger events are not guaranteed to appear in any given order within a block.
For this reason, motivated by the use case in db-sync, the <code>TotalDeposits</code> event now
includes a transaction ID and emits the <em>change</em> in deposits instead of the value.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="improved-type-saftey">Improved type saftey<a class="hash-link" href="#improved-type-saftey" title="Direct link to heading">​</a></h4><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3208" target="_blank" rel="noopener noreferrer">pull-3208</a> - We replaced <code>NominalDiffTime</code> with a newtype wrapper. The problem was that our CBOR
encoders and decoders were using the wrong level of precision, having to due with with
the Shelley genesis file. We removed the potential problem with a newtype wrapper.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3167" target="_blank" rel="noopener noreferrer">pull-3167</a> - We now use a GADT to ensure consistency of the Plutus language in the types
for <code>TransactionScriptFailure</code> and <code>PlutusDebug</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="codemodule-organization">Code/Module organization<a class="hash-link" href="#codemodule-organization" title="Direct link to heading">​</a></h4><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3175" target="_blank" rel="noopener noreferrer">pull-3175</a> - The Allegra and Mary eras had an unusual relationship in our codebase,
due to the uncertainly of release dates while we were implementing them.
In particular, they were coupled in way that is different from the rest of the code base.
With hindsight on our side, we split the combined <code>shelley-ma</code> Haskell package into two
separate ledger era packages, which is now consistent with the rest of the repository
and module structure.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3184" target="_blank" rel="noopener noreferrer">pull-3184</a> - We created a core test sub-library, cleaning up a lot of our property test
generator code.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3210" target="_blank" rel="noopener noreferrer">pull-3210</a> - We moved the <code>KeyPair</code> type to the test library. Outside of testing,
the ledger does not need to deal with signing keys, and since this is a topic that
deserves the utmost care, it is best to make it clear that our use of signing keys
is only for testing.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3229" target="_blank" rel="noopener noreferrer">pull-3229</a> - We split the <code>Cardano.Ledger.Alonzo.Data</code> module, which is more consistent with the rest
of the codebase.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="revert-pointer-address-deprecation">Revert pointer address deprecation<a class="hash-link" href="#revert-pointer-address-deprecation" title="Direct link to heading">​</a></h4><p>Thanks to one of our excellent internal auditors,
<a href="https://github.com/jmhrpr" target="_blank" rel="noopener noreferrer">@jmhrpr</a>,
we now have a better plan for deprecating pointer addresses.
This meant that we had to revert the previous work to deprecate them.</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/issues/3161" target="_blank" rel="noopener noreferrer">issue-3161</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3215" target="_blank" rel="noopener noreferrer">pull-3215</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous">Miscellaneous<a class="hash-link" href="#miscellaneous" title="Direct link to heading">​</a></h4><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3205" target="_blank" rel="noopener noreferrer">pull-3205</a> - We removed deprecated type synonyms.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3218" target="_blank" rel="noopener noreferrer">pull-3218</a> - We cleaned up the address deserialization.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3223" target="_blank" rel="noopener noreferrer">pull-3223</a> - We fixed faulty address deserialization tests.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3222" target="_blank" rel="noopener noreferrer">pull-3222</a> - We switched to a general type family <code>TxOut</code> from concrete ones,
reducing many constraints.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3224" target="_blank" rel="noopener noreferrer">pull-3224</a> - <code>ShelleyGenesis</code> is now parameterized by crypto instead of by era.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3170" target="_blank" rel="noopener noreferrer">pull-3170</a> - We set the cabal-version to 3.0 in our projects.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3172" target="_blank" rel="noopener noreferrer">pull-3172</a> - We removed the now useless <code>EncodeMint</code>/<code>DecodeMint</code> classes.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3225" target="_blank" rel="noopener noreferrer">pull-3225</a> - We switch from <a href="https://hackage.haskell.org/package/ormolu" target="_blank" rel="noopener noreferrer">ormolu</a> to
<a href="https://hackage.haskell.org/package/fourmolu" target="_blank" rel="noopener noreferrer">fourmolu</a>.
The reason was to be able to finally have more diff friendly code!</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2022-12-09-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-09T00:00:00.000Z" itemprop="datePublished">December 9, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>The Plutus tools team at IOG has started helping the ledger team to build out a user friendly
<code>cardano-ledger-api</code> package!
A <a href="https://github.com/input-output-hk/cardano-ledger/projects/5" target="_blank" rel="noopener noreferrer">GitHub project</a>
will be filled out in the days ahead,
people interested in the API can use it to follow along and join in on the conversations.</p><p>The ledger team has started using
<a href="https://github.com/input-output-hk/cardano-ledger/blob/6fc0e198560fb4169d435da882394930789a8af8/docs/adr/2022-12-01_001-record-architectural-decisions.md" target="_blank" rel="noopener noreferrer">architectural decision records</a>
to leave a record of important decisions that the team makes.
We will retroactively go back through past decisions and make ADRs for them.</p><p>The logic to track individual deposits is now nearly in place.
We are prioritizing correctness with our first pull request, and will follow up with
performance optimizations and general cleanup next.</p><p>Pointer addresses are being deprecated with the Cardano major protocol version 8.
See <a href="https://github.com/cardano-foundation/CIPs/pull/374" target="_blank" rel="noopener noreferrer">CPS-0002</a>
for more context.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower-level-summary">Lower level summary<a class="hash-link" href="#lower-level-summary" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cardano-ledger-api">Cardano ledger API<a class="hash-link" href="#cardano-ledger-api" title="Direct link to heading">​</a></h4><p>The <strong>Plutus tools team</strong> has taken our minimal <code>cardano-ledger-api</code> package and started filling it
out and adding much needed documentation.
They have also added doctests!
In the days to come, the Plutus tools team will map out a lot more work for the API and record
it in this
<a href="https://github.com/input-output-hk/cardano-ledger/projects/5" target="_blank" rel="noopener noreferrer">GitHub project</a>.</p><p>See</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3182" target="_blank" rel="noopener noreferrer">pull-3182</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3188" target="_blank" rel="noopener noreferrer">pull-3188</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="architectural-decision-records-adrs">Architectural Decision Records (ADRs)<a class="hash-link" href="#architectural-decision-records-adrs" title="Direct link to heading">​</a></h4><p>We are now providing more context and leaving a record of important decisions that are made
in the ledger. The first ADR explains the very lightweight process.</p><p>See</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3177" target="_blank" rel="noopener noreferrer">pull-3177</a> (rendered <a href="https://github.com/input-output-hk/cardano-ledger/blob/6fc0e198560fb4169d435da882394930789a8af8/docs/adr/2022-12-01_001-record-architectural-decisions.md" target="_blank" rel="noopener noreferrer">here</a>)</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tracking-individual-deposits">Tracking individual deposits<a class="hash-link" href="#tracking-individual-deposits" title="Direct link to heading">​</a></h4><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3190/files" target="_blank" rel="noopener noreferrer">ADR-3</a>
for background.
We now have the logic in place to track individual deposits, and a host of property tests
to make sure that the logic is correct.
The current implementation uses more memory than it needs to, and we will address that next,
with our hope being to only use one word (8 bytes) per registered stake credential.
There is a fair amount of other cleanup needed for general maintainability.</p><p>See</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3127" target="_blank" rel="noopener noreferrer">pull-3127</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3195" target="_blank" rel="noopener noreferrer">pull-3195</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3202" target="_blank" rel="noopener noreferrer">pull-3202</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="removing-pointer-addresses">Removing pointer addresses<a class="hash-link" href="#removing-pointer-addresses" title="Direct link to heading">​</a></h4><p>Pointer addresses, which have never seen any real use
(there are something like eleven on mainnet), are being deprecated starting at Cardano major
version 9.
<a href="https://github.com/cardano-foundation/CIPs/pull/374" target="_blank" rel="noopener noreferrer">CPS-0002</a> gives the context.
We are disabling them by first preventing transaction outputs containing them
from being serialized by the node at the moment we switch to version 9.
At the hard fork after that, we will translate the existing few pointer addresses
to enterprise addresses.</p><p>See</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3174" target="_blank" rel="noopener noreferrer">pull-3174</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">​</a></h4><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3162" target="_blank" rel="noopener noreferrer">pull-3162</a> - Sometimes we have to put safeguards in place for hard forks which may never
be exercised. After we have passed the given hardfork, we are able to clean up the code
and simplify our logic. We removed all of the ones that we are currently easily able to.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3165" target="_blank" rel="noopener noreferrer">pull-3165</a> - We improved the type safety of our code while also discovering and fixing
a serialization bug.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3172" target="_blank" rel="noopener noreferrer">pull-3172</a> - We removed dead code.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3175" target="_blank" rel="noopener noreferrer">pull-3175</a> - The Allegra and the Mary code used to be coupled in a particular way the we grew to
dislike. We made these two ledger eras now uniform with the rest of our code base.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3184" target="_blank" rel="noopener noreferrer">pull-3184</a> - We organized our property testing code.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3200" target="_blank" rel="noopener noreferrer">pull-3200</a> - The Plutus tools teams fixed an outstanding bug in the translation from the
ledger state to the Plutus script context.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2022-11-23-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-23T00:00:00.000Z" itemprop="datePublished">November 23, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>We released <a href="https://github.com/cardano-foundation/CIPs/pull/380" target="_blank" rel="noopener noreferrer">CIP-1694</a>,
our proposal for entering the <a href="https://roadmap.cardano.org/en/voltaire/" target="_blank" rel="noopener noreferrer">Voltaire phase</a>.
<strong>Please come join the discussion</strong>, this will be an incredibly exciting transition for
Cardano and we want everyone to participate!</p><p>We now have a sensible way to version all of the serialization schemes used in the ledger.
The draft pull request was polished, reviewed, and merged this week.
This solves many problems that have vexed us since the beginning of the Shelley ledger era.</p><p>Everyone working on the Cardano node is working together to improve our release process,
and the ledger team in particular dedicated one engineer to help with these efforts
for the next release.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower-level-summary">Lower level summary<a class="hash-link" href="#lower-level-summary" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-conway-ledger-era">The Conway ledger era<a class="hash-link" href="#the-conway-ledger-era" title="Direct link to heading">​</a></h3><p>The current proposal in <a href="https://github.com/cardano-foundation/CIPs/pull/380" target="_blank" rel="noopener noreferrer">CIP-1694</a> encompasses two new ledger eras.
The first era will be called Conway, after the English mathematician John Horton Conway.
The community facing aspects of the Conway ledger era will be very minimal,
but it will pave the way for introducing liquid democracy.
The details can be viewed <a href="https://github.com/input-output-hk/cardano-ledger/projects/4" target="_blank" rel="noopener noreferrer">here</a>.
We do not yet have a formal specification for the Conway era.
Our plan is to debut the
<a href="https://github.com/input-output-hk/formal-ledger-specifications" target="_blank" rel="noopener noreferrer">formal ledger model</a>.
Briefly, the Conway ledger era will:</p><ul><li>introduce SPO voting for hard forks (in the spirit of the now abandoned <a href="https://github.com/cardano-foundation/CIPs/pull/318" target="_blank" rel="noopener noreferrer">CIP-47</a>)</li><li>provide an on-chain mechanism for rotating the governance keys</li><li>re-plumb the ledger rules involving governance to be in line with <a href="https://github.com/cardano-foundation/CIPs/pull/380" target="_blank" rel="noopener noreferrer">CIP-1694</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="versioned-cbor">Versioned CBOR<a class="hash-link" href="#versioned-cbor" title="Direct link to heading">​</a></h3><p>We now have the ability to easily tie our serialization schemes to the Cardano
major protocol version.
We still aim to preserve backwards compatibility as much as possible, but we now have a principled
plan for resolving problems (see <a href="https://github.com/cardano-foundation/CIPs/pull/372" target="_blank" rel="noopener noreferrer">CIP-ledger-cbor</a>).
In particular, we can now address several long standing issues, such as
<a href="https://github.com/input-output-hk/cardano-ledger/issues/2444" target="_blank" rel="noopener noreferrer">issue-2444</a>, <a href="https://github.com/input-output-hk/cardano-ledger/issues/2965" target="_blank" rel="noopener noreferrer">issue-2965</a>, and <a href="https://github.com/input-output-hk/cardano-ledger/issues/3003" target="_blank" rel="noopener noreferrer">issue-3003</a>. </p><p>The final (and massive!) pull request which brought us the versioning is <a href="https://github.com/input-output-hk/cardano-ledger/pull/3138" target="_blank" rel="noopener noreferrer">pull-3138</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deposit-tracking">Deposit tracking<a class="hash-link" href="#deposit-tracking" title="Direct link to heading">​</a></h3><p>The draft pull request which was exploring how best to track individual deposits
is much closer now to being ready to take out of draft (<a href="https://github.com/input-output-hk/cardano-ledger/pull/3127" target="_blank" rel="noopener noreferrer">pull-3127</a>).
For background on the issue, see <a href="https://github.com/input-output-hk/cardano-ledger/issues/3113" target="_blank" rel="noopener noreferrer">issue-3113</a>.
This is quite an invasive change which effects many of our tests, which we are now addressing.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">​</a></h3><p>As always, we keep working on technical debt.
We have deduplicated a some things: <a href="https://github.com/input-output-hk/cardano-ledger/pull/3129" target="_blank" rel="noopener noreferrer">pull-3129</a>, <a href="https://github.com/input-output-hk/cardano-ledger/pull/3162" target="_blank" rel="noopener noreferrer">pull-3162</a>.
We have memoized a problematic computation (though more due diligence is needed before we can
merge): <a href="https://github.com/input-output-hk/cardano-ledger/pull/3141" target="_blank" rel="noopener noreferrer">pull-3141</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-release">Node release<a class="hash-link" href="#node-release" title="Direct link to heading">​</a></h3><p>We have been helping with the node release efforts. See <a href="https://github.com/input-output-hk/cardano-node/pull/4608" target="_blank" rel="noopener noreferrer">pull-4608</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2022-11-11-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-11T00:00:00.000Z" itemprop="datePublished">November 11, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>I am extremely excited to say that we now have a pull request up which introduces our new versioned
CBOR serialization. This was an enormous effort, but it will solve a host of problems that we have
had since the Shelley phase. It will take time to properly review it, and we will
need to put in a lot of effort to integrate it with the downstream components, but this is  a huge
milestone. Additionally, we have a new CIP proposing a deprecation cycle for the transaction
serialization schemes.</p><p>We also have a draft pull request that reworks how deposits are tracked. Users of the system will
not notice any difference, but it is a necessary change needed to prepare the way for
decentralizing the governance of Cardano.</p><p>Finally, we continued to address technical debt. In particular, we continued to make progress on
bringing coherency and consistency to the code base with a common naming convention, and
improving some error messages.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower-level-summary">Lower level summary<a class="hash-link" href="#lower-level-summary" title="Direct link to heading">​</a></h2><ul><li>We have a pull request up for our new versioned CBOR serialization.
When we encounter a problem with our deserializers, it can be very difficult to implement a fix.
It is difficult because we can only fix such issues during a hard fork, and leading up to the
hard fork we must maintain two serializations for the same type in order to not cause unintended
network splitting (the problematic version must be used before the hard fork,
and the fixed version is used afterwards).
This can be especially tricky with the <code>FromCBOR</code> typeclass, since it is not always easy to
search for where all the problematic uses are located.
The new versioned CBOR serialization allows us to gracefully handle this transition.
See [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3138" target="_blank" rel="noopener noreferrer">pull-3138</a>].</li><li>We proposed a CIP for backwards compatibility of the transaction serialization schemes.
See [<a href="https://github.com/cardano-foundation/CIPs/pull/372" target="_blank" rel="noopener noreferrer">pull-372</a>].</li><li>We have draft for the new deposit tracking.
This draft is not as memory efficient as the final version will be,
but it is a sufficient proof of concept that we can write property tests against, ensuring
that we have not changed the semantics.
We will optimize after we are sure of the correctness.
See [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3127" target="_blank" rel="noopener noreferrer">pull-3127</a>].</li><li>We now provide better support for debugging failed Plutus scripts in an important helper
function, named <code>evaluateTransactionExecutionUnits</code>.
In particular, it now returns all the information needed to rerun the script with exactly the
same arguments. This feature will end up appearing in the CLI and other tools from the Plutus
tools team.
See [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3135" target="_blank" rel="noopener noreferrer">pull-3135</a>].</li><li>We did a lot more renaming to bring coherency and consistency to the code base.
See [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3126" target="_blank" rel="noopener noreferrer">pull-3126</a>], [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3120" target="_blank" rel="noopener noreferrer">pull-3120</a>], [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3118" target="_blank" rel="noopener noreferrer">pull-3118</a>], and [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3116" target="_blank" rel="noopener noreferrer">pull-3116</a>].</li><li>We have added a few things to the ledger repository to make it conform to the
<a href="https://input-output-hk.github.io/cardano-engineering-handbook/" target="_blank" rel="noopener noreferrer">Cardano Engineering Handbook</a>
See [<a href="https://github.com/input-output-hk/cardano-ledger/pull/3139" target="_blank" rel="noopener noreferrer">pull-3139</a>].</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/ledger">ledger</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tags/ledger/page/14"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tags/ledger/page/16"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/tags">Tags</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Intersect, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3d19331e.js"></script>
<script src="/assets/js/main.7e74428f.js"></script>
</body>
</html>